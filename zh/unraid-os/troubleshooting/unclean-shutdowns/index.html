<!doctype html>
<html lang="zh" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-unraid-os/troubleshooting/unclean-shutdowns" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.4.0">
<title data-rh="true">Unclean shutdowns | Unraid Docs</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://uw1yks.github.io/unraid-docs/zh/img/meta-unraid.png"><meta data-rh="true" name="twitter:image" content="https://uw1yks.github.io/unraid-docs/zh/img/meta-unraid.png"><meta data-rh="true" property="og:url" content="https://uw1yks.github.io/unraid-docs/zh/unraid-os/troubleshooting/unclean-shutdowns/"><meta data-rh="true" property="og:locale" content="zh"><meta data-rh="true" property="og:locale:alternate" content="en"><meta data-rh="true" property="og:locale:alternate" content="es"><meta data-rh="true" property="og:locale:alternate" content="fr"><meta data-rh="true" property="og:locale:alternate" content="de"><meta data-rh="true" name="docusaurus_locale" content="zh"><meta data-rh="true" name="docsearch:language" content="zh"><meta data-rh="true" name="theme-color" content="#242526" media="(prefers-color-scheme: dark)"><meta data-rh="true" name="theme-color" content="#ffffff" media="(prefers-color-scheme: light)"><meta data-rh="true" name="color-scheme" content="dark light"><meta data-rh="true" name="keywords" content="Unraid, server, storage, NAS, Docker, virtualization, array, parity, data protection, file sharing, plugins, management, GUI, disk management, caching, SSD, disk encryption, security, RAID, network configuration, backups, media server, transcoding, monitoring, VMs, GPU passthrough, hardware compatibility"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Unclean shutdowns | Unraid Docs"><meta data-rh="true" name="description" content="Sometimes when booting up the system and starting the array a parity check is automatically started due to an unclean shutdown. An unclean shutdown occurs when Unraid records the array was not successfully stopped when the system was last powered off."><meta data-rh="true" property="og:description" content="Sometimes when booting up the system and starting the array a parity check is automatically started due to an unclean shutdown. An unclean shutdown occurs when Unraid records the array was not successfully stopped when the system was last powered off."><link data-rh="true" rel="icon" href="/unraid-docs/zh/img/favicon.svg"><link data-rh="true" rel="canonical" href="https://uw1yks.github.io/unraid-docs/zh/unraid-os/troubleshooting/unclean-shutdowns/"><link data-rh="true" rel="alternate" href="https://uw1yks.github.io/unraid-docs/unraid-os/troubleshooting/unclean-shutdowns/" hreflang="en"><link data-rh="true" rel="alternate" href="https://uw1yks.github.io/unraid-docs/zh/unraid-os/troubleshooting/unclean-shutdowns/" hreflang="zh"><link data-rh="true" rel="alternate" href="https://uw1yks.github.io/unraid-docs/es/unraid-os/troubleshooting/unclean-shutdowns/" hreflang="es"><link data-rh="true" rel="alternate" href="https://uw1yks.github.io/unraid-docs/fr/unraid-os/troubleshooting/unclean-shutdowns/" hreflang="fr"><link data-rh="true" rel="alternate" href="https://uw1yks.github.io/unraid-docs/de/unraid-os/troubleshooting/unclean-shutdowns/" hreflang="de"><link data-rh="true" rel="alternate" href="https://uw1yks.github.io/unraid-docs/unraid-os/troubleshooting/unclean-shutdowns/" hreflang="x-default"><link data-rh="true" rel="preconnect" href="https://JUYLFQHE7W-dsn.algolia.net" crossorigin="anonymous"><link rel="preconnect" href="https://www.google-analytics.com">
<link rel="preconnect" href="https://www.googletagmanager.com">
<script async src="https://www.googletagmanager.com/gtag/js?id=G-CZENQ1ZPEH"></script>
<script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","G-CZENQ1ZPEH",{anonymize_ip:!0})</script>


<link rel="search" type="application/opensearchdescription+xml" title="Unraid Docs" href="/unraid-docs/zh/opensearch.xml"><link rel="stylesheet" href="/unraid-docs/zh/assets/css/styles.3916f753.css">
<script src="/unraid-docs/zh/assets/js/runtime~main.a5364202.js" defer="defer"></script>
<script src="/unraid-docs/zh/assets/js/main.7664cb6b.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();null!==e?t(e):window.matchMedia("(prefers-color-scheme: dark)").matches?t("dark"):window.matchMedia("(prefers-color-scheme: light)").matches?t("light"):t("dark")}(),function(){try{const c=new URLSearchParams(window.location.search).entries();for(var[t,e]of c)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><div role="region" aria-label="跳到主要内容"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">跳到主要内容</a></div><nav aria-label="主导航" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="切换导航栏" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/unraid-docs/zh/"><div class="navbar__logo"><img src="/unraid-docs/zh/img/un-mark-gradient.svg" alt="My Site Logo" class="themedComponent_mlkZ themedComponent--light_NVdE" style="width:30px"><img src="/unraid-docs/zh/img/un-mark-gradient.svg" alt="My Site Logo" class="themedComponent_mlkZ themedComponent--dark_xIcU" style="width:30px"></div><b class="navbar__title text--truncate">Unraid Docs</b></a></div><div class="navbar__items navbar__items--right"><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link" href="/unraid-docs/zh/unraid-os/troubleshooting/unclean-shutdowns/">More</a><ul class="dropdown__menu"><li><a href="https://unraid.net" target="_blank" rel="noopener noreferrer" class="dropdown__link">Unraid Home<svg width="12" height="12" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li><a href="https://forums.unraid.net" target="_blank" rel="noopener noreferrer" class="dropdown__link">Forums<svg width="12" height="12" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li><a href="https://github.com/unraid/docs" target="_blank" rel="noopener noreferrer" class="dropdown__link">Docs Github<svg width="12" height="12" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link" href="/unraid-docs/zh/unraid-os/troubleshooting/unclean-shutdowns/"><svg viewBox="0 0 24 24" width="20" height="20" aria-hidden="true" class="iconLanguage_nlXk"><path fill="currentColor" d="M12.87 15.07l-2.54-2.51.03-.03c1.74-1.94 2.98-4.17 3.71-6.53H17V4h-7V2H8v2H1v1.99h11.17C11.5 7.92 10.44 9.75 9 11.35 8.07 10.32 7.3 9.19 6.69 8h-2c.73 1.63 1.73 3.17 2.98 4.56l-5.09 5.02L4 19l5-5 3.11 3.11.76-2.04zM18.5 10h-2L12 22h2l1.12-3h4.75L21 22h2l-4.5-12zm-2.62 7l1.62-4.33L19.12 17h-3.24z"></path></svg>中文</a><ul class="dropdown__menu"><li><a href="/unraid-docs/unraid-os/troubleshooting/unclean-shutdowns/" target="_self" rel="noopener noreferrer" class="dropdown__link" lang="en">English</a></li><li><a href="/unraid-docs/zh/unraid-os/troubleshooting/unclean-shutdowns/" target="_self" rel="noopener noreferrer" class="dropdown__link dropdown__link--active" lang="zh">中文</a></li><li><a href="/unraid-docs/es/unraid-os/troubleshooting/unclean-shutdowns/" target="_self" rel="noopener noreferrer" class="dropdown__link" lang="es">Español</a></li><li><a href="/unraid-docs/fr/unraid-os/troubleshooting/unclean-shutdowns/" target="_self" rel="noopener noreferrer" class="dropdown__link" lang="fr">Français</a></li><li><a href="/unraid-docs/de/unraid-os/troubleshooting/unclean-shutdowns/" target="_self" rel="noopener noreferrer" class="dropdown__link" lang="de">Deutsch</a></li></ul></div><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="切换浅色/暗黑模式（当前为暗黑模式）" aria-label="切换浅色/暗黑模式（当前为暗黑模式）" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"><button type="button" class="DocSearch DocSearch-Button" aria-label="搜索"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20" aria-hidden="true"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">搜索</span></span><span class="DocSearch-Button-Keys"></span></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="回到顶部" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="文档侧边栏" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/unraid-docs/zh/">Home</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" href="/unraid-docs/zh/category/unraid-os/">Unraid OS</a><button aria-label="折叠侧边栏分类 &#x27;Unraid OS&#x27;" aria-expanded="true" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/unraid-docs/zh/unraid-os/overview/what-is-unraid/">Overview</a><button aria-label="展开侧边栏分类 &#x27;Overview&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/unraid-docs/zh/category/release-notes/">Release Notes</a><button aria-label="展开侧边栏分类 &#x27;Release Notes&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/unraid-docs/zh/unraid-os/getting-started/">Getting started</a><button aria-label="展开侧边栏分类 &#x27;Getting started&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/unraid-docs/zh/category/manual/">Manual</a><button aria-label="展开侧边栏分类 &#x27;Manual&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/unraid-docs/zh/category/guides/">Guides</a><button aria-label="展开侧边栏分类 &#x27;Guides&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" tabindex="0" href="/unraid-docs/zh/unraid-os/troubleshooting/">Troubleshooting</a><button aria-label="折叠侧边栏分类 &#x27;Troubleshooting&#x27;" aria-expanded="true" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/unraid-docs/zh/unraid-os/troubleshooting/diagnostics-information/">Capturing diagnostic information</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/unraid-docs/zh/unraid-os/troubleshooting/boot-issues/">Boot Issues</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/unraid-docs/zh/unraid-os/troubleshooting/unclean-shutdowns/">Unclean shutdowns</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/unraid-docs/zh/unraid-os/troubleshooting/system-crash/">Crash Issues</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/unraid-docs/zh/unraid-os/troubleshooting/windows-connection/">Windows Connection Issues</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/unraid-docs/zh/unraid-os/troubleshooting/data-recovery/">Data Recovery</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/unraid-docs/zh/unraid-os/troubleshooting/docker/">Docker</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/unraid-docs/zh/unraid-os/troubleshooting/crc-errors/">UDMA CRC Errors</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/unraid-docs/zh/unraid-os/troubleshooting/cache-issues/">Cache/Pool issues</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/unraid-docs/zh/category/faq/">FAQ</a><button aria-label="展开侧边栏分类 &#x27;FAQ&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/unraid-docs/zh/unraid-os/download_list/">Download Archive</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/unraid-docs/zh/account/">Unraid.net Account</a><button aria-label="展开侧边栏分类 &#x27;Unraid.net Account&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/unraid-docs/zh/category/unraid-connect/">Unraid Connect</a><button aria-label="展开侧边栏分类 &#x27;Unraid Connect&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/unraid-docs/zh/category/legacy-documentation/">Legacy Documentation</a><button aria-label="展开侧边栏分类 &#x27;Legacy Documentation&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/unraid-docs/zh/category/contribute/">Contribute</a><button aria-label="展开侧边栏分类 &#x27;Contribute&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li></ul></nav></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="页面路径"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="主页面" class="breadcrumbs__link" href="/unraid-docs/zh/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/unraid-docs/zh/category/unraid-os/"><span itemprop="name">Unraid OS</span></a><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/unraid-docs/zh/unraid-os/troubleshooting/"><span itemprop="name">Troubleshooting</span></a><meta itemprop="position" content="2"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Unclean shutdowns</span><meta itemprop="position" content="3"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">本页总览</button></div><div class="theme-doc-markdown markdown"><h1>Unclean shutdowns</h1>
<p>Sometimes when booting up the system and starting the array a parity check is automatically started due to an unclean shutdown. An unclean shutdown occurs when Unraid records the array was not successfully stopped when the system was last powered off.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="events-that-cause-unclean-shutdowns">Events that cause unclean shutdowns<a class="hash-link" aria-label="Events that cause unclean shutdowns的直接链接" title="Events that cause unclean shutdowns的直接链接" href="/unraid-docs/zh/unraid-os/troubleshooting/unclean-shutdowns/#events-that-cause-unclean-shutdowns">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="unexpected-power-loss">Unexpected power loss<a class="hash-link" aria-label="Unexpected power loss的直接链接" title="Unexpected power loss的直接链接" href="/unraid-docs/zh/unraid-os/troubleshooting/unclean-shutdowns/#unexpected-power-loss">​</a></h3>
<p>The best protection against this type of issue is to have an Uninterruptible Power Supply (UPS) that is set up to initiate a controlled shutdown of Unraid initiated by the UPS when the amount of power left in the UPS reaches a trigger level. See <a href="/unraid-docs/zh/unraid-os/troubleshooting/unclean-shutdowns/#configuring-timeouts">Configuring timeouts</a> for the proper configuration of timeouts. Configure these to make sure the system has enough power to perform a graceful shutdown.</p>
<div class="theme-admonition theme-admonition-note admonition_xJq3 alert alert--secondary"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>备注</div><div class="admonitionContent_BuS1"><p>Out of the box, Unraid works with UPS units that support the <a href="http://www.apcupsd.org/" target="_blank" rel="noopener noreferrer">apcupsd protocol</a> (models from APC and CyberPower typically work well with this). If your particular UPS does not, you can try using the Network UPS Tools (NUT) for Unraid in Community Applications.</p></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="flash-drive-failure">Flash drive failure<a class="hash-link" aria-label="Flash drive failure的直接链接" title="Flash drive failure的直接链接" href="/unraid-docs/zh/unraid-os/troubleshooting/unclean-shutdowns/#flash-drive-failure">​</a></h3>
<p>The status of the array is stored on the USB flash device. If, for any reason the status on the flash drive cannot be updated due to the flash drive going offline, or going into a read-only state, then Unraid will not be able to update this status even if the array is stopped successfully. This will be identified as an unclean shutdown the next time you boot the Unraid server.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="open-terminal-session">Open terminal session<a class="hash-link" aria-label="Open terminal session的直接链接" title="Open terminal session的直接链接" href="/unraid-docs/zh/unraid-os/troubleshooting/unclean-shutdowns/#open-terminal-session">​</a></h3>
<p>A common reason for an unclean shutdown is having a terminal session open. Unraid will not close sessions to shut down, but instead waits for them to be terminated while the shutdown timer is running. After the overall shutdown timer runs out, the server is forced to shutdown.</p>
<div class="theme-admonition theme-admonition-tip admonition_xJq3 alert alert--success"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>提示</div><div class="admonitionContent_BuS1"><p>If you have the <strong>Dynamix Stop Shell</strong> plugin installed, it will add a script to terminate any <strong>bash</strong> or <strong>SSH</strong> sessions so Unraid can be gracefully shutdown. However, if there are ongoing write operations to the array.</p></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="configuring-timeouts">Configuring timeouts<a class="hash-link" aria-label="Configuring timeouts的直接链接" title="Configuring timeouts的直接链接" href="/unraid-docs/zh/unraid-os/troubleshooting/unclean-shutdowns/#configuring-timeouts">​</a></h2>
<p>A key part of a clean shutdown is giving enough time for the system processes to finish their workloads. There are various countdowns that are triggered when a shutdown of the array is started. First the system shuts down all VMs, then all containers. Many users find the defaults are too low for their particular workload:</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="virtual-machines">Virtual machines<a class="hash-link" aria-label="Virtual machines的直接链接" title="Virtual machines的直接链接" href="/unraid-docs/zh/unraid-os/troubleshooting/unclean-shutdowns/#virtual-machines">​</a></h3>
<p>There is a timer in <em><strong>Settings &gt; VM Manager &gt; VM Shutdown</strong></em> (in <strong>Advanced view</strong>) that needs to be set to a high enough value to allow your VMs time to completely shutdown. Some factors that impact a VMs shutdown time include the OS&#x27; power settings (sleep and hibernation), and any maintenance tasks like Windows Update, on Windows operating systems.</p>
<ul>
<li>Power settings can put the VM into a sleep or hibernation state. A system must resume from this state before initiating shutdown. If you have set up sleep or hibernation on your VM, factor this into your timeout calculations.</li>
<li>Windows VMs will sometimes have an update that requires a reboot of the VM to complete, and will do so by themselves. These can take quite a while and the default setting of 60 seconds in the <strong>VM Manager</strong> may not be long enough. If the timer setting is exceeded on a shutdown, your VMs will be forced to shutdown. This is just like pulling the plug on a PC. A reasonable value is something like 300 seconds (5 minutes) in order to insure your Windows VMs have time to completely shutdown. Alternatively, you can schedule a task to run Windows Update right after system boot, so that it is the first thing that happens, rather than waiting for a system shutdown to trigger it.</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="docker-containers">Docker containers<a class="hash-link" aria-label="Docker containers的直接链接" title="Docker containers的直接链接" href="/unraid-docs/zh/unraid-os/troubleshooting/unclean-shutdowns/#docker-containers">​</a></h3>
<p>There is a configurable timer for stopping Docker containers under <em><strong>Settings &gt; Docker</strong></em> (<strong>in Advanced view</strong>). When the timer runs out, any running Docker containers will be force-stopped to ensure the system is able to shutdown before the general timer expires. By default, containers are given 10 seconds to stop, but this can be increased if you have complex containers that need more time. Note that containers are stopped in parallel.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="general-shutdown-timer">General shutdown timer<a class="hash-link" aria-label="General shutdown timer的直接链接" title="General shutdown timer的直接链接" href="/unraid-docs/zh/unraid-os/troubleshooting/unclean-shutdowns/#general-shutdown-timer">​</a></h3>
<p>In order to make sure Unraid shuts down fully before an attached UPS runs out of power, under <em><strong>Settings &gt; Disk Settings &gt; Shutdown time-out</strong></em>, Unraid has a <strong>Shutdown time-out</strong> setting which has a default value of 90 seconds. All processes that rely on the array or pools must shut down before this timeout expires, or the system will forcibly shutdown on its own, resulting in an unclean shutdown. To ensure the system has time to fully shut down in a worst-case scenario, you can determine the proper <strong>Shutdown time-out</strong> value for your system by: adding <code>3x VM Shutdown timeout</code> + <code>Docker stop timeout</code> + another 15 to 30 seconds or more, depending on the speed of your system and how many drives need to be unmounted.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="ups-battery-life">UPS battery life<a class="hash-link" aria-label="UPS battery life的直接链接" title="UPS battery life的直接链接" href="/unraid-docs/zh/unraid-os/troubleshooting/unclean-shutdowns/#ups-battery-life">​</a></h3>
<p>Your UPS needs to be of high enough capacity to: detect a power outage, trigger a shutdown, and power the server through the entire “General shutdown timer”. To see roughly how long the UPS can power the system, spin up all disks and navigate to <em><strong>Settings &gt; UPS Settings</strong></em> and review the “Runtime left”. Use the settings on this page to trigger a shutdown with enough time to allow the General shutdown timer to expire before the battery runs out.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="recommendations">Recommendations<a class="hash-link" aria-label="Recommendations的直接链接" title="Recommendations的直接链接" href="/unraid-docs/zh/unraid-os/troubleshooting/unclean-shutdowns/#recommendations">​</a></h2>
<p>These suggested actions can prevent an unclean shutdown, or help determine the cause of one.</p>
<ul>
<li>If your server seems hung and you cannot connect to the WebGUI, try a quick press of the power button. This will initiate a shutdown and Unraid will attempt a graceful shutdown of the server. If you have to hold the power button to do a hard power off, you will get an unclean shutdown.</li>
<li>You can activate the <em><strong>Settings &gt; Syslog Server</strong></em> to get logs that can survive a reboot as, by default, the syslog is only in RAM and is lost after a reboot. You can find a detailed account of the system diagnostics <a href="/unraid-docs/zh/unraid-os/troubleshooting/diagnostics-information/#persistent-logs-syslog-server">here</a>.</li>
<li>If an unclean shutdown does occur because the overall &quot;Shutdown time-out&quot; was exceeded, Unraid will attempt to write diagnostics to the <code>/log</code> folder on the USB flash device. When you ask for help in the Unraid forums with an unclean shutdown, attach the <code>/log/diagnostics.zip</code> file to your forum post to help the community . There is information in the log that shows why the unclean shutdown occurred.</li>
</ul></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="row margin-top--sm theme-doc-footer-edit-meta-row"><div class="col"><a href="https://github.com/unraid/docs/tree/main/docs/unraid-os/troubleshooting/unclean-shutdowns.md" target="_blank" rel="noopener noreferrer" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>编辑此页</a></div><div class="col lastUpdated_JAkA"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="文件选项卡"><a class="pagination-nav__link pagination-nav__link--prev" href="/unraid-docs/zh/unraid-os/troubleshooting/boot-issues/"><div class="pagination-nav__sublabel">上一页</div><div class="pagination-nav__label">Boot Issues</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/unraid-docs/zh/unraid-os/troubleshooting/system-crash/"><div class="pagination-nav__sublabel">下一页</div><div class="pagination-nav__label">Crash Issues</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a class="table-of-contents__link toc-highlight" href="/unraid-docs/zh/unraid-os/troubleshooting/unclean-shutdowns/#events-that-cause-unclean-shutdowns">Events that cause unclean shutdowns</a><ul><li><a class="table-of-contents__link toc-highlight" href="/unraid-docs/zh/unraid-os/troubleshooting/unclean-shutdowns/#unexpected-power-loss">Unexpected power loss</a></li><li><a class="table-of-contents__link toc-highlight" href="/unraid-docs/zh/unraid-os/troubleshooting/unclean-shutdowns/#flash-drive-failure">Flash drive failure</a></li><li><a class="table-of-contents__link toc-highlight" href="/unraid-docs/zh/unraid-os/troubleshooting/unclean-shutdowns/#open-terminal-session">Open terminal session</a></li></ul></li><li><a class="table-of-contents__link toc-highlight" href="/unraid-docs/zh/unraid-os/troubleshooting/unclean-shutdowns/#configuring-timeouts">Configuring timeouts</a><ul><li><a class="table-of-contents__link toc-highlight" href="/unraid-docs/zh/unraid-os/troubleshooting/unclean-shutdowns/#virtual-machines">Virtual machines</a></li><li><a class="table-of-contents__link toc-highlight" href="/unraid-docs/zh/unraid-os/troubleshooting/unclean-shutdowns/#docker-containers">Docker containers</a></li><li><a class="table-of-contents__link toc-highlight" href="/unraid-docs/zh/unraid-os/troubleshooting/unclean-shutdowns/#general-shutdown-timer">General shutdown timer</a></li><li><a class="table-of-contents__link toc-highlight" href="/unraid-docs/zh/unraid-os/troubleshooting/unclean-shutdowns/#ups-battery-life">UPS battery life</a></li></ul></li><li><a class="table-of-contents__link toc-highlight" href="/unraid-docs/zh/unraid-os/troubleshooting/unclean-shutdowns/#recommendations">Recommendations</a></li></ul></div></div></div></div></main></div></div></div><footer class="footer"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Documentation</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/unraid-docs/zh/">Home</a></li><li class="footer__item"><a href="https://github.com/unraid/docs" target="_blank" rel="noopener noreferrer" class="footer__link-item">Contribute on Github<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">Community</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://forums.unraid.net" target="_blank" rel="noopener noreferrer" class="footer__link-item">Forums<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://discord.unraid.net/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Discord<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">More</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://unraid.net" target="_blank" rel="noopener noreferrer" class="footer__link-item">Unraid Home<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://connect.myunraid.net" target="_blank" rel="noopener noreferrer" class="footer__link-item">Unraid Connect<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://newsletter.unraid.net" target="_blank" rel="noopener noreferrer" class="footer__link-item">Newsletter<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://unraid.net/blog" target="_blank" rel="noopener noreferrer" class="footer__link-item">Blog<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="margin-bottom--sm"><img src="/unraid-docs/zh/img/un-mark-gradient.svg" alt="Unraid Logo" class="footer__logo themedComponent_mlkZ themedComponent--light_NVdE" width="100"><img src="/unraid-docs/zh/img/un-mark-gradient.svg" alt="Unraid Logo" class="footer__logo themedComponent_mlkZ themedComponent--dark_xIcU" width="100"></div><div class="footer__copyright"><small>Copyright &copy; 2005-2024 Lime Technology, Inc.<br>Unraid&reg; is a registered trademark of Lime Technology, Inc.</small></div></div></div></footer></div>
</body>
</html>