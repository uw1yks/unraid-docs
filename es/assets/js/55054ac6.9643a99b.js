"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[7537],{3274:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>l,contentTitle:()=>a,default:()=>c,frontMatter:()=>r,metadata:()=>o,toc:()=>h});var i=t(5893),s=t(1151);const r={sidebar_position:3},a="Storage Management",o={id:"unraid-os/manual/storage-management",title:"Storage Management",description:"To assign devices to",source:"@site/docs/unraid-os/manual/storage-management.md",sourceDirName:"unraid-os/manual",slug:"/unraid-os/manual/storage-management",permalink:"/unraid-docs/es/unraid-os/manual/storage-management",draft:!1,unlisted:!1,editUrl:"https://github.com/unraid/docs/tree/main/docs/unraid-os/manual/storage-management.md",tags:[],version:"current",sidebarPosition:3,frontMatter:{sidebar_position:3},sidebar:"unraidSidebar",previous:{title:"Resetting your Unraid password",permalink:"/unraid-docs/es/unraid-os/manual/users/reset-password"},next:{title:"Docker Management",permalink:"/unraid-docs/es/unraid-os/manual/docker-management"}},l={},h=[{value:"Help! I can&#39;t start my array!",id:"help-i-cant-start-my-array",level:2},{value:"Too many disks missing from the array",id:"too-many-disks-missing-from-the-array",level:3},{value:"Too many attached devices",id:"too-many-attached-devices",level:3},{value:"Invalid or missing key",id:"invalid-or-missing-key",level:3},{value:"Missing key",id:"missing-key",level:4},{value:"Expired trial",id:"expired-trial",level:4},{value:"Blacklisted USB flash device",id:"blacklisted-usb-flash-device",level:4},{value:"Cannot contact key-server",id:"cannot-contact-key-server",level:3},{value:"This Unraid Server OS release has been withdrawn",id:"this-unraid-server-os-release-has-been-withdrawn",level:3},{value:"Adding disks",id:"adding-disks",level:2},{value:"Configuring Disks",id:"configuring-disks",level:3},{value:"Clear v Pre-Clear",id:"clear-v-pre-clear",level:3},{value:"Data Disks",id:"data-disks",level:3},{value:"Parity Disks",id:"parity-disks",level:3},{value:"Upgrading parity disk(s)",id:"upgrading-parity-disks",level:3},{value:"Replacing disks",id:"replacing-disks",level:2},{value:"Replacing a disk to increase capacity",id:"replacing-a-disk-to-increase-capacity",level:3},{value:"Replacing failed/disabled disk(s)",id:"replacing-faileddisabled-disks",level:3},{value:"Array Tolerance to Disk Failure Events",id:"array-tolerance-to-disk-failure-events",level:4},{value:"What is a &#39;failed&#39; (disabled) drive",id:"what-is-a-failed-disabled-drive",level:4},{value:"Normal replacement",id:"normal-replacement",level:4},{value:"Notes",id:"notes",level:5},{value:"Rebuilding a drive onto itself",id:"rebuilding-a-drive-onto-itself",level:4},{value:"Parity Swap",id:"parity-swap",level:4},{value:"Important Notes",id:"important-notes",level:5},{value:"A disk failed while I was rebuilding another",id:"a-disk-failed-while-i-was-rebuilding-another",level:3},{value:"Removing disks",id:"removing-disks",level:2},{value:"Removing parity disk(s)",id:"removing-parity-disks",level:3},{value:"Removing data disk(s)",id:"removing-data-disks",level:3},{value:"Alternative method",id:"alternative-method",level:3},{value:"Notes",id:"notes-1",level:3},{value:"Checking array devices",id:"checking-array-devices",level:2},{value:"Parity check",id:"parity-check",level:3},{value:"Read check",id:"read-check",level:3},{value:"Check history",id:"check-history",level:3},{value:"Spin up and down disks",id:"spin-up-and-down-disks",level:2},{value:"Reset the array configuration",id:"reset-the-array-configuration",level:2},{value:"Notifications",id:"notifications",level:2},{value:"Status Reports",id:"status-reports",level:3},{value:"SMART Monitoring",id:"smart-monitoring",level:2},{value:"Why use a Pool?",id:"why-use-a-pool",level:2},{value:"Cache",id:"cache",level:3},{value:"Docker application Storage",id:"docker-application-storage",level:3},{value:"VM vdisks",id:"vm-vdisks",level:3},{value:"Pool Modes",id:"pool-modes",level:2},{value:"Single device mode",id:"single-device-mode",level:3},{value:"Multi-Device mode",id:"multi-device-mode",level:3},{value:"Backing up the pool to the array",id:"backing-up-the-pool-to-the-array",level:2},{value:"Switching the pool to multi-device mode",id:"switching-the-pool-to-multi-device-mode",level:2},{value:"Adding disks to a pool",id:"adding-disks-to-a-pool",level:2},{value:"Removing disks from a multi-device pool",id:"removing-disks-from-a-multi-device-pool",level:2},{value:"Change Pool RAID Levels",id:"change-pool-raid-levels",level:2},{value:"Replace a disk in a pool",id:"replace-a-disk-in-a-pool",level:2},{value:"Remove a disk from a pool",id:"remove-a-disk-from-a-pool",level:2},{value:"Minimum Free Space for a Pool",id:"minimum-free-space-for-a-pool",level:2},{value:"Moving files between a Pool and the array",id:"moving-files-between-a-pool-and-the-array",level:2},{value:"Moving files from pool to array",id:"moving-files-from-pool-to-array",level:3},{value:"Moving files from array to pool",id:"moving-files-from-array-to-pool",level:3},{value:"Multiple Pools",id:"multiple-pools",level:2},{value:"Moving files between pools",id:"moving-files-between-pools",level:3},{value:"Selecting a File System type",id:"selecting-a-file-system-type",level:2},{value:"Setting a File System type",id:"setting-a-file-system-type",level:2},{value:"Creating a File System (Format)",id:"creating-a-file-system-format",level:2},{value:"Drive shows as unmountable",id:"drive-shows-as-unmountable",level:2},{value:"Checking a File System",id:"checking-a-file-system",level:2},{value:"Preparing to test",id:"preparing-to-test",level:3},{value:"Running the Test using the WebGUI",id:"running-the-test-using-the-webgui",level:3},{value:"Running the Test using the command line",id:"running-the-test-using-the-command-line",level:3},{value:"XFS and ReiserFS",id:"xfs-and-reiserfs",level:4},{value:"BTRFS",id:"btrfs",level:4},{value:"ZFS",id:"zfs",level:4},{value:"Repairing a File System",id:"repairing-a-file-system",level:2},{value:"Preparing to repair",id:"preparing-to-repair",level:3},{value:"Running the Repair using the WebGUI",id:"running-the-repair-using-the-webgui",level:3},{value:"XFS and ReiserFS",id:"xfs-and-reiserfs-1",level:4},{value:"BTRFS",id:"btrfs-1",level:4},{value:"Running the Repair using the command line",id:"running-the-repair-using-the-command-line",level:3},{value:"XFS and ReiserFS",id:"xfs-and-reiserfs-2",level:4},{value:"BTRFS",id:"btrfs-2",level:4},{value:"ZFS",id:"zfs-1",level:4},{value:"Changing a File System type",id:"changing-a-file-system-type",level:2},{value:"Converting to a new File System type",id:"converting-to-a-new-file-system-type",level:2},{value:"Reformatting a drive",id:"reformatting-a-drive",level:2},{value:"Reformatting a cache drive",id:"reformatting-a-cache-drive",level:2},{value:"BTRFS Operations",id:"btrfs-operations",level:2},{value:"Balance",id:"balance",level:3},{value:"Scrub",id:"scrub",level:3},{value:"Array Write Modes",id:"array-write-modes",level:2},{value:"Setting the Write mode",id:"setting-the-write-mode",level:3},{value:"Read/Modify/Write mode",id:"readmodifywrite-mode",level:3},{value:"Turbo write mode",id:"turbo-write-mode",level:3},{value:"Ramifications",id:"ramifications",level:3},{value:"Using a Cache Drive",id:"using-a-cache-drive",level:3},{value:"Read Modes",id:"read-modes",level:2},{value:"(Cache) Pools",id:"cache-pools",level:2}];function d(e){const n={a:"a",blockquote:"blockquote",code:"code",em:"em",h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",hr:"hr",img:"img",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,s.a)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.h1,{id:"storage-management",children:"Storage Management"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.img,{src:t(9791).Z+"",width:"1648",height:"859"})}),"\n",(0,i.jsxs)(n.p,{children:["To assign devices to\nthe array and/or cache, first login to the server's WebGUI. Click on\nthe ",(0,i.jsx)(n.strong,{children:"Main"})," tab and select the devices to assign to slots for parity,\ndata, and cache disks. Assigning devices to Unraid is easy! Just\nremember these guidelines:"]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Always pick the largest storage device available to act as your\nparity device(s)"}),". When expanding your array in the future (adding\nmore devices to data disk slots), you cannot assign a data disk that\nis larger than your parity device(s). For this reason, it is highly\nrecommended to purchase the largest HDD available for use as your\ninitial parity device, so future expansions aren't limited to small\ndevice sizes. If assigning dual parity disks, your two parity disks\ncan vary in size, but the same rule holds true that no disk in the\narray can be larger than your smallest parity device."]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"SSD support in the array is experimental"}),". Some SSDs may not be\nideal for use in the array due to how TRIM/Discard may be\nimplemented. Using SSDs as data/parity devices may have\nunexpected/undesirable results. This does NOT apply to the cache /\ncache pool. Most modern SSDs will work fine in the array, and even\nNVMe devices are now supported, but know that until these devices\nare in wider use, we only have limited testing experience using them\nin this setting."]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Using a cache will improve array performance"}),". It does this by\nredirecting write operations to a dedicated disk (or pool of disks\nin Unraid 6) and moves that data to the array on a schedule that you\ndefine (by default, once per day at 3:40AM). Data written to the\ncache is still presented through your user shares, making use of\nthis function completely transparent."]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Creating a cache-pool adds protection for cached data"}),". If you\nonly assign one cache device to the system, data residing there\nbefore being moved to the array on a schedule is not protected from\ndata loss. To ensure data remains protected at all times (both on\ndata and cache disks), you must assign more than one device to the\ncache function, creating what is called a cache-pool. Cache pools\ncan be expanded on demand, similar to the array."]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"SSD-based cache devices are ideal for applications and virtual\nmachines"}),". Apps and VMs benefit from SSDs as they can leverage\ntheir raw IO potential to perform faster when interacting with them.\nUse SSDs in a cache pool for the ultimate combination of\nfunctionality, performance, and protection."]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Encryption is disabled by default"}),". If you wish to use this\nfeature on your system, you can do so by adjusting the file system\nfor the devices you wish to have encrypted. Click on each disk you\nwish to have encrypted and toggle the filesystem to one of the\nencrypted options. Note, however, that using encryption can\ncomplicate recovering from certain types of failure so do not use\nthis feature just because it is available if you have no need for\nit."]}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"Unraid recognizes disks by their serial number (and size). This means\nthat it is possible to move drives between SATA ports without having to\nmake any changes in drive assignments. This can be useful for\ntroubleshooting if you ever suspect there may be a hardware-related\nissue such as a bad port or a think a power or SATA cable may be\nsuspect."}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.em,{children:"NOTE: Your array will not start if you assign or attach more devices\nthan your license key allows."})}),"\n",(0,i.jsx)(n.h1,{id:"starting-and-stopping-the-array",children:"Starting and stopping the array"}),"\n",(0,i.jsx)(n.p,{children:"Normally following system boot up the array (complete set of disks) is\nautomatically started (brought on-line and exported as a set of shares).\nBut if there's been a change in disk configuration, such as a new disk\nadded, the array is left stopped so that you can confirm the\nconfiguration is correct. This means that any time you have made a disk\nconfiguration change you must log in to the WebGUI and manually start\nthe array. When you wish to make changes to disks in your array, you\nwill need to stop the array to do this. Stopping the array means all of\nyour applications/services are stopped, and your storage devices are\nunmounted, making all data and applications unavailable until you once\nagain start the array. To start or stop the array, perform the following\nsteps:"}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsxs)(n.li,{children:["Log into the Unraid WebGUI using a browser (e.g. ",(0,i.jsx)(n.code,{children:"http://tower"}),";\n",(0,i.jsx)(n.code,{children:"http://tower.local"})," from Mac)"]}),"\n",(0,i.jsxs)(n.li,{children:["Click on ",(0,i.jsx)(n.strong,{children:"Main"})]}),"\n",(0,i.jsxs)(n.li,{children:["Go to the ",(0,i.jsx)(n.em,{children:"Array Operation"})," section"]}),"\n",(0,i.jsxs)(n.li,{children:["Click ",(0,i.jsx)(n.strong,{children:"Start"})," or ",(0,i.jsx)(n.strong,{children:"Stop"}),' (you may first need to click the "Yes I\nwant to do this" checkbox)']}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"help-i-cant-start-my-array",children:"Help! I can't start my array!"}),"\n",(0,i.jsxs)(n.p,{children:["If the array can't be started, it may be for one of a few reasons which\nwill be reported under the ",(0,i.jsx)(n.em,{children:"Array Operation"})," section:"]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Too many wrong and/or missing disks"}),"\n",(0,i.jsx)(n.li,{children:"Too many attached devices"}),"\n",(0,i.jsx)(n.li,{children:"Invalid or missing registration key"}),"\n",(0,i.jsx)(n.li,{children:"Cannot contact key-server"}),"\n",(0,i.jsx)(n.li,{children:"This Unraid Server OS release has been withdrawn"}),"\n"]}),"\n",(0,i.jsx)(n.h3,{id:"too-many-disks-missing-from-the-array",children:"Too many disks missing from the array"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.img,{alt:"indication that you have too many devices missing or incorrectly assigned",src:t(5397).Z+"",width:"1590",height:"166"})}),"\n",(0,i.jsx)(n.p,{children:"If you have no parity disks, this message won't appear."}),"\n",(0,i.jsx)(n.p,{children:"If you have a single parity disk, you can only have up to one disk\nmissing and still start the array, as parity will then help simulate the\ncontents of the missing disk until you can replace it."}),"\n",(0,i.jsx)(n.p,{children:"If you have two parity disks, you can have up to two disks missing and\nstill start the array."}),"\n",(0,i.jsx)(n.p,{children:"If more than two disks are missing / wrong due to a catastrophic\nfailure, you will need to perform the New Config procedure."}),"\n",(0,i.jsx)(n.h3,{id:"too-many-attached-devices",children:"Too many attached devices"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.img,{alt:"indication that you have too many storage devices attached",src:t(6501).Z+"",width:"1998",height:"170"})}),"\n",(0,i.jsx)(n.p,{children:"Storage devices are any\ndevices that present themselves as a block storage device EXCLUDING the\nUSB flash device used to boot Unraid Server OS. Storage devices can be\nattached via any of the following storage protocols:\nIDE/SATA/SAS/SCSI/USB. This rule only applies prior to starting the\narray. Once the array is started, you are free to attach additional\nstorage devices and make use of them (such as USB flash devices for\nassignment to virtual machines). In Unraid Server OS 6, the attached\nstorage device limits are as follows:"}),"\n",(0,i.jsx)(n.h3,{id:"invalid-or-missing-key",children:"Invalid or missing key"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.img,{alt:"indication that your key is missing or invalid",src:t(9514).Z+"",width:"1558",height:"184"})}),"\n",(0,i.jsx)(n.h4,{id:"missing-key",children:"Missing key"}),"\n",(0,i.jsx)(n.p,{children:"A valid registration key is required in order to start the array. To\npurchase or get a trial key, perform the following steps:"}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsxs)(n.li,{children:["Log into the Unraid webGui using a browser (e.g. ",(0,i.jsx)(n.a,{href:"http://tower",children:"http://tower"})," from\nmost device, ",(0,i.jsx)(n.a,{href:"http://tower.local",children:"http://tower.local"})," from Mac devices)"]}),"\n",(0,i.jsxs)(n.li,{children:["Click on ",(0,i.jsx)(n.strong,{children:"Tools"})]}),"\n",(0,i.jsxs)(n.li,{children:["Click on ",(0,i.jsx)(n.strong,{children:"Registration"})]}),"\n",(0,i.jsxs)(n.li,{children:["Click to ",(0,i.jsx)(n.strong,{children:"Purchase Key"})," or ",(0,i.jsx)(n.strong,{children:"Get Trial Key"})," and complete the\nsteps presented there"]}),"\n",(0,i.jsxs)(n.li,{children:["Once you have your key file link, return to the ",(0,i.jsx)(n.strong,{children:"Registration"})," and\npaste it in the field then click ",(0,i.jsx)(n.strong,{children:"Install Key"}),"."]}),"\n"]}),"\n",(0,i.jsx)(n.h4,{id:"expired-trial",children:"Expired trial"}),"\n",(0,i.jsx)(n.p,{children:'If the word "expired" is visible at the top left of the WebGUI, this\nmeans your trial key has expired. Visit the registration page to request\neither an extension to your trial or purchase a valid registration key.'}),"\n",(0,i.jsx)(n.h4,{id:"blacklisted-usb-flash-device",children:"Blacklisted USB flash device"}),"\n",(0,i.jsx)(n.p,{children:"If your server is connected to the Internet and your trial hasn't\nexpired yet, it is also possible that your USB flash device contains a\nGUID that is prohibited from registering for a key. This could be\nbecause the GUID is not truly unique to your device or has already been\nregistered by another user. It could also be because you are using an SD\ncard reader through a USB interface, which also tends to be provisioned\nwith a generic GUID. If a USB flash device is listed as blacklisted,\nthis is a permanent state and you will need to seek an alternative\ndevice to use for your Unraid Server OS installation."}),"\n",(0,i.jsx)(n.h3,{id:"cannot-contact-key-server",children:"Cannot contact key-server"}),"\n",(0,i.jsx)(n.p,{children:"This message will only occur if you are using a Trial license. If you\nare using a paid-for license then the array can be started without the\nneed to contact the Unraid license server."}),"\n",(0,i.jsx)(n.p,{children:"If your server is unable to contact our key server to validate your\nTrial license, you will not be able to start the array. The server will\nattempt to validate upon first boot with a timeout of 30 sec. If it\ncan't validate upon first boot, then the array won't start, but each\ntime you navigate or refresh the WebGUI it will attempt validation again\n(with a very short timeout). Once validated, it won't phone-home for\nvalidation again unless rebooted."}),"\n",(0,i.jsx)(n.h3,{id:"this-unraid-server-os-release-has-been-withdrawn",children:"This Unraid Server OS release has been withdrawn"}),"\n",(0,i.jsx)(n.p,{children:"If you receive this message, it means you are running a beta or release\ncandidate version of Unraid that has been marked disabled from active\nuse. Upgrade the OS to the latest stable, beta, or release candidate\nversion in order to start your array."}),"\n",(0,i.jsx)(n.h1,{id:"array-operations",children:"Array operations"}),"\n",(0,i.jsx)(n.p,{children:"There are a number of operations you can perform against your array:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Add disks"}),"\n",(0,i.jsx)(n.li,{children:"Replace disks"}),"\n",(0,i.jsx)(n.li,{children:"Remove disks"}),"\n",(0,i.jsx)(n.li,{children:"Check disks"}),"\n",(0,i.jsx)(n.li,{children:"Spin disks up/down"}),"\n",(0,i.jsx)(n.li,{children:"Reset the array configuration"}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.em,{children:'NOTE: In cases where devices are added/replaced/removed, etc., the\ninstructions say "Power down" ... "Power up". If your server\'s\nhardware is designed for hot/warm plug, Power cycling is not necessary\nand Unraid is designed specifically to handle this. All servers built by\nLimeTech since the beginning are like this:'})," ",(0,i.jsx)(n.strong,{children:"no power cycle\nnecessary."})]}),"\n",(0,i.jsx)(n.h2,{id:"adding-disks",children:"Adding disks"}),"\n",(0,i.jsx)(n.h3,{id:"configuring-disks",children:"Configuring Disks"}),"\n",(0,i.jsx)(n.p,{children:"TBD"}),"\n",(0,i.jsx)(n.h3,{id:"clear-v-pre-clear",children:"Clear v Pre-Clear"}),"\n",(0,i.jsx)(n.p,{children:"Under Unraid a 'Clear disk is one that has been completely filled with\nzeroes and contains a special signature to say that it is in this state.\nThis state is needed before a drive can be added to a parity-protected\narray without affecting parity. If Unraid is in the process of writing\nzeroes to all of a drive then this is referred to as a 'Clear'\noperation. This Clear operation can take place as a background operation\nwhile using the array, but the drive in question cannot be used to store\ndata until the Clear operation has completed and the drive been\nformatted to the desired File System type."}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsxs)(n.em,{children:["A disk that is being added as a parity drive or one that is to be used\nto rebuild a failed drive does ",(0,i.jsx)(n.strong,{children:"not"})," need to be in a 'Clear' state\nas those processes overwrites every sector on the drive with new\ncontents as part of carrying out the operation. In addition, if you are\nadding an additional data drive to an array that does not currently have\na parity drive there is no requirement for the drive to be clear before\nadding it."]})}),"\n",(0,i.jsxs)(n.p,{children:["You will often see references in the forum or various wiki pages to\n'Preclear'. This refers to getting the disk into a 'Clear' state\nbefore adding it to the array. The Preclear process requires the use of\na third-party plugin. Prior to Unraid v6, this was highly desirable as\nthe array was offline while Unraid carried out the 'Clear' operation.\nbut Unraid v6 now carries out 'Clear' as a background process with the\narray operational while it is running so it is now completely optional.\nMany users still like to use the Preclear process as in addition to\nputting the disk into a clear state it also performs a level of 'stress\ntest' on the drive which can be used as a confidence check on the\nhealth of the drive. The Preclear as a result takes ",(0,i.jsx)(n.strong,{children:"much"})," longer than\nUnraid's more simplistic 'clear' operation. Many users like to\nPreclear new disks as an initial confidence check and to reduce the\nchance of a drive suffering from 'what is known as infant mortality'\nwhere one of the most likely times for a drive to fail is when it is\nfirst used (presumably due to a manufacturing defect)."]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsxs)(n.em,{children:["It is also important to note that after completing a 'Preclear' you\nmust ",(0,i.jsx)(n.strong,{children:"not"})," carry out any operation that will write to the drive (e.g.\n",(0,i.jsx)(n.strong,{children:"format"})," it) as this will destroy the 'Clear' state."]})}),"\n",(0,i.jsx)(n.h3,{id:"data-disks",children:"Data Disks"}),"\n",(0,i.jsx)(n.p,{children:"This is the normal case of expanding the capacity of the system by\nadding one or more new hard drives."}),"\n",(0,i.jsx)(n.p,{children:"The capacity of any new disk(s) added must be the same size or smaller\nthan your parity disk. If you wish to add a new disk that is larger than\nyour parity disk, then you must instead first replace your parity disk.\n(You could use your new disk to replace parity, and then use your old\nparity disk as a new data disk)."}),"\n",(0,i.jsx)(n.p,{children:"The procedure is:"}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsx)(n.li,{children:"Stop the array."}),"\n",(0,i.jsx)(n.li,{children:"Power down the server."}),"\n",(0,i.jsx)(n.li,{children:"Install your new disk(s)."}),"\n",(0,i.jsx)(n.li,{children:"Power up the server."}),"\n",(0,i.jsx)(n.li,{children:"Assign the new storage device(s) to a disk slot(s) using the Unraid\nWebGUI."}),"\n",(0,i.jsx)(n.li,{children:"Start the array."}),"\n",(0,i.jsxs)(n.li,{children:["If your array is parity protected then Unraid will now automatically\nbegin to clear the disk as this is required before it can be added\nto the array.","\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"This step is omitted if you do not have a parity drive."}),"\n",(0,i.jsx)(n.li,{children:"If a disk has been pre-cleared before adding it Unraid will\nrecognize this and go straight to the next step."}),"\n",(0,i.jsx)(n.li,{children:"The clearing phase is necessary to preserve the fault tolerance\ncharacteristic of the array. If at any time while the new\ndisk(s) is being cleared, one of the other disks fails, you will\nstill be able to recover the data of the failed disk."}),"\n",(0,i.jsx)(n.li,{children:"The clearing phase can take several hours depending on the size\nof the new disks(s) and although the array is available during\nthis process Unraid will not be able to use the new disk(s) for\nstoring files until the clear has completed and the new disk has\nbeen formatted."}),"\n",(0,i.jsx)(n.li,{children:"The files on other drives in the array will be accessible during\na clear operation, and the clear operation should not degrade\nperformance in accessing these other drives."}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["Once the disk has been cleared, an option to format the disk will\nappear in the WebGUI. At this point, the disk is added to the array\nand shows as unmountable and the option to format unmountable disks\nis shown.","\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Check that the serial number of the disk(s) is what you expect.\nYou do not want to format a different disk (thus erasing its\ncontents) by accident."}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["Click the check box to confirm that you want to proceed with the\nformat procedure.","\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["A warning dialog will be given warning you of the consequences\nas once you start the format the disks listed will have any\nexisting contents erased and there is no going back. This\nwarning may seem a bit like over-kill but there have been times\nthat users have used the format option when it was ",(0,i.jsx)(n.strong,{children:"not"})," the\nappropriate action."]}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(n.li,{children:"The format button will now be enabled so you can click on it to\nstart the formatting process."}),"\n",(0,i.jsxs)(n.li,{children:["The format should only take a few minutes and after the format\ncompletes the disk will show as mounted and ready for use.","\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"You will see that a small amount of space will already show as\nused which is due to the overheads of creating the empty file\nsystem on the drive."}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"You can add as many new disks to the array as you desire at one time,\nbut none of them will be available for use until they are all cleared\nand formatted with a filesystem"}),"\n",(0,i.jsx)(n.h3,{id:"parity-disks",children:"Parity Disks"}),"\n",(0,i.jsx)(n.p,{children:"It is not mandatory for an Unraid system to have a parity disk, but it\nis normal to provide redundancy. A parity disk can be added at any time,\nEach parity disk provides redundancy against one data drive failing."}),"\n",(0,i.jsx)(n.p,{children:"Any parity disk you add must be at least as large as the largest data\ndrive (although it can be larger). If you have two parity drives then it\nis not required that they be the same size although it is required that\nthey both follow the rule of being at least as large as the largest data\ndrive."}),"\n",(0,i.jsx)(n.p,{children:"The process for adding a parity disk is identical to that for adding a\ndata disk except that when you start the array after adding it Unraid\nwill start to build parity on the drive that you have just added."}),"\n",(0,i.jsx)(n.p,{children:"While parity is being rebuilt the array will continue to function with\nall existing files being available, but the performance in accessing\nthese files will normally be degraded due to contention with the parity\nbuild process."}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"NOTE:"})}),"\n",(0,i.jsx)(n.p,{children:"You cannot add a parity disk(s) and data disk(s) at the same time in a\nsingle operation. This needs to be split into two separate steps, one to\nadd parity and the other to add additional data space."}),"\n",(0,i.jsx)(n.h3,{id:"upgrading-parity-disks",children:"Upgrading parity disk(s)"}),"\n",(0,i.jsx)(n.p,{children:"You may wish to upgrade your parity device(s) to a larger one(s) so you\ncan start using larger sized disks in the array or to add an additional\nparity drive"}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"CAUTION:"})," If you take the actions below and only have a ",(0,i.jsx)(n.strong,{children:"single"}),"\nparity drive then you need to bear the following in mind:"]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"The array will be unprotected until the parity rebuild occurs. This\nmeans that if a data drive fails during this process you are likely\nto suffer loss of the data on the failing drive."}),"\n",(0,i.jsxs)(n.li,{children:["If you already have a failed data drive then this will remove the\nability to rebuild that data drive. In such a situation the ",(0,i.jsx)(n.strong,{children:"Parity\nSwap"})," procedure is the correct way to proceed."]}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"The procedure to remove a parity drive is as follows:"}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsx)(n.li,{children:"Stop the array."}),"\n",(0,i.jsx)(n.li,{children:"Power down the server."}),"\n",(0,i.jsx)(n.li,{children:"Install new larger parity disks. Note if you do this as your first\nstep then steps 2 & 4 listed here are not needed."}),"\n",(0,i.jsx)(n.li,{children:"Power up the server."}),"\n",(0,i.jsx)(n.li,{children:"Assign the larger disk to the parity slot (replacing the former\nparity device)."}),"\n",(0,i.jsx)(n.li,{children:"Start the array."}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"When you start the array, the system will once again perform a parity\nbuild to the new parity device and when it completes the array will once\nagain be in a protected state. It is recommended that you keep the old\nparity drives contents intact until the above procedure completes as if\nan array drive fails during this procedure so you cannot complete\nbuilding the contents of the new parity disk, then it is possible to use\nthe old one for recovery purposes (ask on the forum for the steps\ninvolved). If you have a dual parity system and wish to upgrade both of\nyour parity disks, it is recommended to perform this procedure one\nparity disk at a time, as this will allow for your array to still be in\na protected state throughout the entire upgrade process."}),"\n",(0,i.jsx)(n.p,{children:"Once you've completed the upgrade process for a parity disk, the former\nparity disk can be considered for assignment and use in the array as an\nadditional data disk (depending on age and durability)"}),"\n",(0,i.jsx)(n.h2,{id:"replacing-disks",children:"Replacing disks"}),"\n",(0,i.jsx)(n.p,{children:"There are two primary reasons why you may wish to replace disks in the\narray:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"A disk needs to be replaced due to failure or scheduled retirement\n(out of warranty / support / serviceability)."}),"\n",(0,i.jsx)(n.li,{children:"The array is nearly full and you wish to replace existing data\ndisk(s) with larger ones (out of capacity)."}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"In either of these cases, the procedure to replace a disk is roughly the\nsame, but one should be aware of the risk of data loss during a disk\nreplacement activity. Parity device(s) protect the array from data loss\nin the event a disk failure. A single parity device protects against a\nsingle failure, whereas two parity devices can protect against losing\ndata when two disks in the array fail. This chart will help you better\nunderstand your level of protection when various disk replacement\nscenarios occur."}),"\n",(0,i.jsx)(n.p,{children:"Data Protection During Disk Replacements"}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Replacing a single disk"}),"\n",(0,i.jsx)(n.strong,{children:"Replacing two disks"})]}),"\n",(0,i.jsx)(n.h3,{id:"replacing-a-disk-to-increase-capacity",children:"Replacing a disk to increase capacity"}),"\n",(0,i.jsx)(n.p,{children:"With modern disks rapidly increasing in capacity you can replace an\nexisting data drive with a larger one to increase the available space in\nthe array without increasing the total count of drives in the array."}),"\n",(0,i.jsx)(n.p,{children:"Points to note are:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"If a disk is showing as unmountable then you should resolve this\nbefore attempting to upgrade the drive as the rebuild process does\nnot clear an unmountable status"}),"\n",(0,i.jsx)(n.li,{children:"If you have single parity then you are not protected against a\ndifferent drive failing during the upgrade process. If this happens\nthen post to the forums to get advice on the best way to proceed to\navoid data loss."}),"\n",(0,i.jsx)(n.li,{children:"If you have dual parity and you are upgrading a single data drive\nthen you are still protected against another data drive failing\nduring the upgrade process."}),"\n",(0,i.jsx)(n.li,{children:"If you have dual parity you can upgrade two drives simultaneously\nbut you would then not be protected against another drive failing\nwhile doing the upgrade. If this happens then post to the forums to\nget advice on the best way to proceed to avoid data loss. It is up\nto you to decide on whether to take the route of upgrading two\ndrives one at a time or taking the faster but riskier route of doing\nthem at the same time."}),"\n",(0,i.jsx)(n.li,{children:"Keep the disk that you are replacing with its contents unchanged\nuntil you are happy that the upgrade process has gone as planned.\nThis gives a fallback capability if the upgrade has gone wrong for\nany reason."}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"To perform the upgrade proceed as follows:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Run a parity check if you have not done so recently and make sure\nthat zero errors are reported. Attempting an upgrade if parity is\nnot valid will result in the file system on the upgraded disk being\ncorrupt."}),"\n",(0,i.jsx)(n.li,{children:"Stop the array."}),"\n",(0,i.jsx)(n.li,{children:"Unassign the disk you want to upgrade."}),"\n",(0,i.jsxs)(n.li,{children:["Start the array to commit this change and make Unraid 'forget' the\ncurrent assignment.","\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Unraid will now tell you that the missing disk is being\nemulated. It does this using the combination of the remaining\ndata drives and a parity drive to dynamically reconstruct the\ncontents of the emulated drive. From a user perspective the\nsystem will act as if the drive was still present albeit with a\nreduced level of protection against another drive failing."}),"\n",(0,i.jsx)(n.li,{children:"If you started the array in Maintenance mode then this will\nensure no new files can be written to the drive during the\nupgrade process"}),"\n",(0,i.jsx)(n.li,{children:"If you started the drive in Normal mode then you will be able to\nread and write to the Emulated drive as if it was still physically\npresent"}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["Stop the array.","\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"At this point the array is in the same state as it would be if\nthe drive you have stopped using had failed instead of being\nunassigned as part of the upgrade process."}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(n.li,{children:"Assign the (larger) replacement drive to the slot previously used\nfor the drive you are upgrading."}),"\n",(0,i.jsxs)(n.li,{children:["Start the array to begin rebuilding the contents of the emulated\ndrive on to the upgraded drive.","\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Since the replacement drive is larger than the one it is\nreplacing when the contents of the emulated drive have been put\nonto the replacement drive Unraid will automatically expand the\nfile system on the drive so the full capacity of the drive\nbecomes available for storing data."}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(n.h3,{id:"replacing-faileddisabled-disks",children:"Replacing failed/disabled disk(s)"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.img,{alt:"a red X indicates that a disk has suffered a write error and should be replaced",src:t(2973).Z+"",width:"1010",height:"146"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.img,{alt:"if notifications are enabled, this additional alert will appear",src:t(5921).Z+"",width:"756",height:"140"})}),"\n",(0,i.jsx)(n.p,{children:"As noted previously, with a single parity disk, you can replace up to\none disk at a time, but during the replacement process, you are at risk\nfor data loss should an additional disk failure occur. With two parity\ndisks, you can replace either one or two disks at a time, but during a\ntwo disk replacement process, you are also at risk for data loss.\nAnother way to visualize the previous chart:"}),"\n",(0,i.jsx)(n.h4,{id:"array-tolerance-to-disk-failure-events",children:"Array Tolerance to Disk Failure Events"}),"\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{}),(0,i.jsx)(n.th,{children:"Without Parity"}),(0,i.jsx)(n.th,{children:"With Single Parity"}),(0,i.jsx)(n.th,{children:"With Dual Parity"})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.strong,{children:"A single disk failure"})}),(0,i.jsx)(n.td,{children:"Data from that disk is lost"}),(0,i.jsx)(n.td,{children:"Data is still available and the disk can be replaced"}),(0,i.jsx)(n.td,{children:"Data is still available and the disk can be replaced"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.strong,{children:"A dual disk failure"})}),(0,i.jsx)(n.td,{children:"Data on both disks are lost"}),(0,i.jsx)(n.td,{children:"Data on both disks are lost"}),(0,i.jsx)(n.td,{children:"Data is still available and the disks can be replaced"})]})]})]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.img,{alt:"confirming you wish to start the array and rebuild the contents of the failed disk on a new disk",src:t(7313).Z+"",width:"1812",height:"208"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.img,{alt:"notification indicating that a disk rebuild is occurring",src:t(8841).Z+"",width:"724",height:"300"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.img,{alt:"the progress and time remaining for the rebuild will be displayed under the array operation section",src:t(3836).Z+"",width:"1086",height:"718"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.em,{children:"NOTE: If more disk failures have occurred than your parity protection\ncan allow for, you are advised to post in the General Support forum for\nassistance with data recovery on the data devices that have failed."})}),"\n",(0,i.jsx)(n.h4,{id:"what-is-a-failed-disabled-drive",children:"What is a 'failed' (disabled) drive"}),"\n",(0,i.jsx)(n.p,{children:"It is important to realize what is meant by the term failed drive:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"It is typically used to refer to a drive that is marked with a red\n'x' in the Unraid GUI."}),"\n",(0,i.jsx)(n.li,{children:"It does NOT necessarily mean that there is a physical problem with\nthe drive (although that is always a possibility). More often than\nnot the drive is OK and an external factor caused the write to fail."}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"If the syslog shows that resets are occurring on the drive then this\nis a good indication of a connection problem."}),"\n",(0,i.jsx)(n.p,{children:"The SMART report for the drive is a good place to start."}),"\n",(0,i.jsx)(n.p,{children:"The SMART attributes can indicate a drive is healthy when in fact it\nis not. A better indication of health is whether the drive can\nsuccessfully complete the SMART extended test without error. If it\ncannot complete this test error-free then there is a high likelihood\nthat the drive is not healthy."}),"\n",(0,i.jsx)(n.p,{children:"CRC errors are almost invariably cabling issues. It is important to\nrealize that this SMART attribute is never reset to 0 so if it stops\nincreasing that is what you should be aiming to achieve."}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["If you have sufficient parity drives then Unraid will emulate the\nfailed drive using the combination of the parity drive(s) and the\nremaining 'good' drives. ",(0,i.jsx)(n.strong,{children:"From a user perspective, this results\nin the system reacting as if the failed drive is still present"}),"."]}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"This is one reason why it is important that you have enabled\nnotifications to get alerted to such a failure. From the end-user\nperspective, the system continues to operate and the data remain\navailable. Without notifications enabled the user may blithely\ncontinue using their Unraid server not realizing that their data may\nnow be at risk and they need to take some corrective action."}),"\n",(0,i.jsx)(n.p,{children:"When a disk is marked as disabled and Unraid indicates it is being\nemulated then the following points apply:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Unraid will stop writing to the physical drive"}),". Any writes to\nthe 'emulated' drive will not be reflected on the physical drive\nbut will be reflected in parity so from the end-user perspective\nthen the array seems to be updating data as normal."]}),"\n",(0,i.jsxs)(n.li,{children:["When you rebuild a disabled drive the process will make the physical\ndrive correspond to the emulated drive by doing a\n",(0,i.jsx)(n.em,{children:"sector-for-sector"})," copy from the emulated drive to the physical\ndrive. You can, therefore, check that the emulated drive contains\nthe content that you expect before starting the rebuild process."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"If a drive is being emulated then you can carry out recovery\nactions on the emulated drive before starting the rebuild process"}),".\nThis can be important as it keeps the physical drive untouched for\npotential data recovery processes if the emulated drive cannot be\nrecovered."]}),"\n",(0,i.jsxs)(n.li,{children:["If an ",(0,i.jsx)(n.strong,{children:"emulated"})," drive is marked as ",(0,i.jsx)(n.strong,{children:"unmountable"})," then a rebuild\nwill ",(0,i.jsx)(n.strong,{children:"not"})," fix this and the rebuilt drive will have the same\nunmountable status as the emulated drive. The correct handling of\nunmountable drives is described in a later section. It is\nrecommended that you repair the file system before attempting a\nrebuild as the repair process is much faster that the rebuild\nprocess and if the repair process is not successful the rebuilt\ndrive would have the same problem."]}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:["A replacement drive does not need to be the ",(0,i.jsx)(n.em,{children:"same"})," size as the disk it\nis replacing. It cannot be smaller but it can be larger. If the\nreplacement drive is not larger than any of your parity drives then the\nsimpler procedure below can be used. In the special case where you want\nto use a new disk that is larger than at least one of your parity drives\nthen please refer to the ",(0,i.jsx)(n.strong,{children:"Parity Swap"})," procedure that follows instead."]}),"\n",(0,i.jsx)(n.p,{children:"If you have purchased a replacement drive, many users like to pre-clear\nthe drive to stress test the drive first, to make sure it's a good\ndrive that won't fail for a few years at least. The Preclearing is not\nstrictly necessary as replacement drives don't have to be cleared since\nthey are going to be completely overwritten., but Preclearing new drives\none to three times provides a thorough test of the drive, eliminates\n'infant mortality' failures. You can also carry out stress tests in\nother ways such as running an extended SMART test or using tools\nsupplied by the disk manufacturer that run on Windows or macOS."}),"\n",(0,i.jsx)(n.h4,{id:"normal-replacement",children:"Normal replacement"}),"\n",(0,i.jsxs)(n.p,{children:["This is a normal case of replacing a failed drive where the replacement\ndrive is ",(0,i.jsx)(n.strong,{children:"not"})," larger than your current parity drive(s)."]}),"\n",(0,i.jsx)(n.p,{children:"It is worth emphasizing that Unraid must be able to reliably read every\nbit of parity PLUS every bit of ALL other disks in order to reliably\nrebuild a missing or disabled disk. This is one reason why you want to\nfix any disk-related issues with your Unraid server as soon as possible."}),"\n",(0,i.jsx)(n.p,{children:"To replace a failed disk or disks:"}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsx)(n.li,{children:"Stop the array."}),"\n",(0,i.jsx)(n.li,{children:"Power down the unit."}),"\n",(0,i.jsx)(n.li,{children:"Replace the failed disk(s) with a new one(s)."}),"\n",(0,i.jsx)(n.li,{children:"Power up the unit."}),"\n",(0,i.jsx)(n.li,{children:"Assign the replacement disk(s) using the Unraid WebGUI."}),"\n",(0,i.jsxs)(n.li,{children:["Click the checkbox that says ",(0,i.jsx)(n.em,{children:"Yes I want to do this"})]}),"\n",(0,i.jsxs)(n.li,{children:["(optional) Tick the box to start in Maintenance mode. If you start\nthe array in Maintenance mode you will need to press the ",(0,i.jsx)(n.strong,{children:"Sync"}),"\nbutton to trigger the rebuild. The advantage of doing this in\nMaintenance mode is that nothing else can write to the array while\nthe rebuild is running which maximises speed. The disadvantage is\nthat you cannot use the array in the meantime and until you return\nto normal mode cannot see what the contents of the disk being\nrebuilt will look like."]}),"\n",(0,i.jsxs)(n.li,{children:["Click ",(0,i.jsx)(n.strong,{children:"Start"})," to initiate the rebuild process.and the system will\nreconstruct the contents of the emulated disk(s) onto the new\ndisk(s) and, if the new disk(s) is/are bigger, expand the file\nsystem."]}),"\n"]}),"\n",(0,i.jsx)(n.h5,{id:"notes",children:"Notes"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"IMPORTANT"}),": If at any point during the replacement process Unraid\nappears to offer an option to format a drive do ",(0,i.jsx)(n.strong,{children:"not"})," do so as\nthis will result in wiping all files belonging to the drive you are\ntrying to replace and updating parity to reflect this."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"A 'good' rebuild relies on all the other array disks being\nread without error."})," If during the rebuild process any of the other\narray disks start showing read errors then the rebuilt disk is going\nto show corruption (and probably end up as unmountable) with some\ndata loss highly likely."]}),"\n",(0,i.jsx)(n.li,{children:"You must replace a failed disk with a disk that is as big or bigger\nthan the original and not bigger than the smallest parity disk."}),"\n",(0,i.jsx)(n.li,{children:"If the replacement disk has been used before then remove any\nexisting partitions. In theory this should not be necessary but is\nhas been known to sometimes cause problems so it is better to play\nsafe."}),"\n",(0,i.jsx)(n.li,{children:"The rebuild process can never be used to change the format of a\ndisk - it can only rebuild to the existing format."}),"\n",(0,i.jsxs)(n.li,{children:["The rebuild process will not correct a disk that is showing as\n",(0,i.jsx)(n.em,{children:"unmountable"})," when being emulated (as this indicates there is some\nlevel of file system corruption present) - it will still show as\n",(0,i.jsx)(n.em,{children:"unmountable"})," after the rebuild as the rebuild process simply makes\nthe physical disk match the emulated one."]}),"\n"]}),"\n",(0,i.jsx)(n.h4,{id:"rebuilding-a-drive-onto-itself",children:"Rebuilding a drive onto itself"}),"\n",(0,i.jsx)(n.p,{children:"There can be cases where it is determined that the reason a disk was\ndisabled is due to an external factor and the disk drive appears to be\nfine. In such a case you need to take a slightly modified process to\ncause Unraid to rebuild a 'disabled' drive back onto the same drive."}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsx)(n.li,{children:"Stop array"}),"\n",(0,i.jsx)(n.li,{children:"Unassign disabled disk"}),"\n",(0,i.jsx)(n.li,{children:"Start array so the missing disk is registered"}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Important"}),": If the drive to be rebuilt is a data drive then check\nthat the emulated drive is showing the content you expect to be\nthere as the rebuild process simply makes the physical drive match\nthe emulated one. If this is not the case then you may want to ask\nin forums for advice on the best way to proceed."]}),"\n",(0,i.jsx)(n.li,{children:"Stop array"}),"\n",(0,i.jsx)(n.li,{children:"Reassign disabled disk"}),"\n",(0,i.jsxs)(n.li,{children:["(optional) Tick the box to start in Maintenance mode. If you start\nthe array in Maintenance mode you will need to press the ",(0,i.jsx)(n.strong,{children:"Sync"}),"\nbutton to trigger the rebuild. The advantage of doing this in\nMaintenance mode is that nothing else can write to the array while\nthe rebuild is running which maximises speed.\xa0The disadvantage is\nthat you cannot use the array in the meantime and until you return\nto normal mode cannot see what the contents of the disk being\nrebuilt will look like."]}),"\n",(0,i.jsxs)(n.li,{children:["Click ",(0,i.jsx)(n.strong,{children:"Start"})," to initiate the rebuild process and the system will\nreconstruct the contents of the emulated disk."]}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"This process can be used for both data and parity drives that have been\ndisabled."}),"\n",(0,i.jsx)(n.h4,{id:"parity-swap",children:"Parity Swap"}),"\n",(0,i.jsx)(n.p,{children:"This is a special case of replacing a disabled drive where the\nreplacement drive is larger than your current parity drive. This\nprocedure applies to both the parity1 and the parity2 drives. If you\nhave dual parity then it can be used on both simultaneously to replace 2\ndisabled data drives with the 2 old parity drives."}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"NOTE"}),": It is ",(0,i.jsx)(n.strong,{children:"not"})," recommended that you use this procedure for\nupgrading the size of both a parity drive and a data drive as the array\nwill be offline during the parity copy part of the operation. In such a\ncase it is normally better to first upgrade the parity drive and then\nafterward upgrade the data drive using the drive replacement procedure.\nThis takes longer but the array remains available for use throughout the\nprocess, and in addition, if anything goes wrong you have the just\nremoved drive available intact for recovery purposes"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Why would you want to do this? To replace a data drive with a larger\none, that is even larger than the Parity drive."})}),"\n",(0,i.jsx)(n.p,{children:"Unraid does not require a replacement drive to be the same size as\nthe drive being replaced. The replacement drive CANNOT be smaller\nthan the old drive, but it CAN be larger, much larger in fact. If\nthe replacement drive is the same size or larger, UP TO the same\nsize as the smallest parity drive, then there the simple procedure\nabove can be used. If the replacement drive is LARGER than the\nParity drive, then a special two-step procedure is required as\ndescribed here. It works in two phases: - The larger-than-existing-parity drive is first upgraded to\nbecome the new the parity drive - The old parity drive replaces the old data drive and the data of\nthe failed drive is rebuilt onto it."}),"\n",(0,i.jsx)(n.p,{children:"As an example, you have a 1TB data drive that you want to replace\n(the reason does not matter). You have a 2TB parity drive. You buy a\n4TB drive as a replacement. The 'Parity Swap' procedure will copy\nthe parity info from the current 2TB parity drive to the 4TB drive,\nzero the rest, make it the new parity drive, then use the old 2TB\nparity drive to replace the 1TB data drive. Now you can do as you\nwish with the removed 1TB drive."}),"\n",(0,i.jsx)(n.h5,{id:"important-notes",children:"Important Notes"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"If you have purchased a replacement drive, we always recommend many\nusers to pre-clear the drive to stress test the replacement drive\nfirst, to make sure it's a good drive that won't fail for a few\nyears at least. The Preclearing is not strictly necessary, as\nreplacement drives don't have to be cleared, they are going to be\ncompletely overwritten. But Preclearing new drives one to three\ntimes provides a thorough test of the drive, eliminates 'infant\nmortality' failures."}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsxs)(n.strong,{children:["If your replacement drive is the same size or smaller than your\ncurrent Parity drive, then you don't need this procedure. Proceed\nwith the ",(0,i.jsx)(n.a,{href:"/unraid-docs/es/legacy/FAQ/replacing-a-data-drive",children:"Replacing a Data Drive"}),"\nprocedure."]})}),"\n",(0,i.jsx)(n.li,{children:"This procedure is strictly for replacing data drives in an Unraid\narray. If all you want to do is replace your Parity drive with a\nlarger one, then you don't need the Parity Swap procedure. Just\nremove the old parity drive and add the new one, and start the\narray. The process of building parity will immediately begin. (If\nsomething goes wrong, you still have the old parity drive that you\ncan put back!)"}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"IMPORTANT!!!"})," This procedure REQUIRES that the data drive being\nreplaced MUST be disabled first. If the drive failed (has a red\nball), then it is already 'disabled', but if the drive is OK but\nyou want to replace it anyway, then you have to force it to be\n'failed', by unassigning it and starting and stopping the array.\nUnraid only forgets a drive when the array is started without the\ndrive, otherwise it still associates it with the slot (but\n'Missing'). The array must be started once with the drive\nunassigned or disabled. Yes, it may seem odd, but is required before\nUnraid will recognize that you are trying to do a 'Parity Swap'.\nIt needs to see a disabled data disk with forgotten ID, a new disk\nassigned to its slot that used to be the parity disk, and a new disk\nassigned to the parity slot."]}),"\n",(0,i.jsxs)(n.li,{children:["Obviously, it's very important to identify the drives for\nassignment correctly! Have a list of the drive models that will be\ntaking part in this procedure, with the last 4 characters of their\nserial numbers. If the drives are recent Toshiba models, then they\nmay all end in ",(0,i.jsx)(n.strong,{children:"GS"})," or ",(0,i.jsx)(n.strong,{children:"S"}),", so you will want to note the\npreceding 4 characters instead."]}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"The steps to carry out this procedure are:"}),"\n",(0,i.jsx)(n.p,{children:"Note: these steps are the general steps needed. The steps you take\nmay differ depending on your situation. If the drive to be replaced\nhas failed and Unraid has disabled it, then you may not need steps 1\nand 2, and possibly not steps 3 and 4. If you have already installed\nthe new replacement drive (perhaps because you have been Preclearing\nit), then you would skip steps 5 through 8. Revise the steps as\nneeded."}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:["Stop the array ",(0,i.jsx)(n.em,{children:"(if it's started)"})]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:["Unassign the old drive ",(0,i.jsx)(n.em,{children:"(if it's still assigned)"}),"\n",(0,i.jsx)(n.em,{children:"If the drive was a good drive and notifications are enabled, you\nwill get error notifications for a missing drive! This is normal."})]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:["Start the array (put a check in the ",(0,i.jsx)(n.strong,{children:"Yes I want to do this"}),"\ncheckbox if it appears (older versions: ",(0,i.jsx)(n.strong,{children:"Yes, I'm sure"}),"))\n",(0,i.jsxs)(n.em,{children:["Yes, you need to do this. Your data drive should be showing as\n",(0,i.jsx)(n.strong,{children:"Not installed"}),"."]})]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:"Stop the array again"}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:"Power down"}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.em,{children:"[ Optional ]"})," Pull the old drive\n",(0,i.jsx)(n.em,{children:"You may want to leave it installed, for Preclearing or testing or\nreassignment."})]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:"Install the new drive (preclear STRONGLY suggested, but formatting\nnot needed)"}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:"Power on"}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:"Stop the array"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.em,{children:'*If you get an "Array Stopping\u2022Retry unmounting disk\nshare(s)..." message, try disabling Docker and/or VM in Settings\nand stopping the array again after rebooting.'})}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:"Unassign the parity drive"}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:["Assign the new drive in the parity slot\n",(0,i.jsx)(n.em,{children:"You may see more error notifications! This is normal."})]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:["Assign the old parity drive in the slot of the old data drive being\nreplaced\n",(0,i.jsx)(n.em,{children:"You should now have blue drive status indicators for both the\nparity drive and the drive being replaced."})]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:["Go to the ",(0,i.jsx)(n.strong,{children:"Main"})," \u2192 ",(0,i.jsx)(n.strong,{children:"Array Operation"})," section\n",(0,i.jsxs)(n.em,{children:["You should now have a ",(0,i.jsx)(n.strong,{children:"Copy"}),' button, with a statement indicating\n"',(0,i.jsx)(n.strong,{children:"Copy"}),' will copy the parity information to the new parity\ndisk".']})]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:["Put a check in the ",(0,i.jsx)(n.strong,{children:"Yes I want to do this"})," checkbox (older\nversions: ",(0,i.jsx)(n.strong,{children:"Yes, I'm sure"}),"), and click the ",(0,i.jsx)(n.strong,{children:"Copy"})," button\n_Now patiently watch the copy progress, takes a long time (~20\nhours for 4TB on a 3GHz Core 2 Duo). All of the contents of the old\nparity drive are being copied onto the new drive, then the remainder\nof the new parity drive will be zeroed."]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"The array will NOT be available during this operation!"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.em,{children:"*If you disabled Docker and/or VM in settings earlier, go ahead\nand re-enable now."})}),"\n",(0,i.jsxs)(n.p,{children:['When the copy completes, the array will still be stopped\n("',(0,i.jsx)(n.strong,{children:"Stopped"}),'. Upgrading disk/swapping parity.").']}),"\n",(0,i.jsxs)(n.p,{children:["The ",(0,i.jsx)(n.strong,{children:"Start"})," button will now be present, and the description will\nnow indicate that it is ready to start a Data-Rebuild._"]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:["Put a check in the ",(0,i.jsx)(n.strong,{children:"Yes I want to do this"})," checkbox (older\nversions: ",(0,i.jsx)(n.strong,{children:"Yes, I'm sure"}),"), and click the ",(0,i.jsx)(n.strong,{children:"Start"})," button\n_The data drive rebuild begins. Parity is now valid, and the array\nis started."]}),"\n",(0,i.jsx)(n.p,{children:"Because the array is started, you can use the array as normal, but\nfor best performance, we recommend you limit your usage."}),"\n",(0,i.jsx)(n.p,{children:"Once again, you can patiently watch the progress, it takes a long\ntime too! All of the contents of the old data drive are now being\nreconstructed on what used to be your parity drive, but is now\nassigned as the replacement data drive._"}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"That's it!"})," Once done, you have an array with a larger parity\ndrive and a replaced data drive that may also be larger!"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.em,{children:"Note: many users like to follow up with a parity check, just to\ncheck everything. It's a good confidence builder (although not\nstrictly necessary)!"})}),"\n",(0,i.jsx)(n.h3,{id:"a-disk-failed-while-i-was-rebuilding-another",children:"A disk failed while I was rebuilding another"}),"\n",(0,i.jsx)(n.p,{children:"If you only have a single parity device in your system and a disk\nfailure occurs during a data-rebuild event, the data rebuild will be\ncancelled as parity will no longer be valid. However, if you have dual\nparity disks assigned in your array, you have options. You can either"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"let the first disk rebuild complete before starting the second, or"}),"\n",(0,i.jsx)(n.li,{children:"you can cancel the first rebuild, stop the array, replace the second\nfailed disk, then start the array again"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"If the first disk being rebuilt is nearly complete, it's probably\nbetter to let that finish, but if you only just began rebuilding the\nfirst disk when the second disk failure occurred, you may decide\nrebuilding both at the same time is a better solution."}),"\n",(0,i.jsx)(n.h2,{id:"removing-disks",children:"Removing disks"}),"\n",(0,i.jsx)(n.p,{children:"There may be times when you wish to remove drives from the system."}),"\n",(0,i.jsx)(n.h3,{id:"removing-parity-disks",children:"Removing parity disk(s)"}),"\n",(0,i.jsx)(n.p,{children:"If for some reason you decide you do not need the level of parity\nprotection that you have in place then it is always possible to easily\nremove a parity disk."}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsx)(n.li,{children:"Stop the array."}),"\n",(0,i.jsxs)(n.li,{children:["Set the slot for the parity disk you wish to remove to ",(0,i.jsx)(n.em,{children:"Unassigned"}),"."]}),"\n",(0,i.jsx)(n.li,{children:"Start the array to commit the change and 'forget' the previously\nassigned parity drive."}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"CAUTION:"})," If you already have any failed data drives in the array be\naware that removing a parity drive reduces the number of failed drives\nUnraid can handle without potential data loss."]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["If you started with ",(0,i.jsx)(n.strong,{children:"dual"})," parity you can still handle a single\nfailed drive but would not then be able to sustain another drive\nfailing while trying to rebuild the already failed drive without\npotential data loss."]}),"\n",(0,i.jsxs)(n.li,{children:["If you started with ",(0,i.jsx)(n.strong,{children:"single"})," parity you will no longer be able to\nhandle any array drive failing without potential data loss."]}),"\n"]}),"\n",(0,i.jsx)(n.h3,{id:"removing-data-disks",children:"Removing data disk(s)"}),"\n",(0,i.jsx)(n.p,{children:"Removing a disk from the array is possible, but normally requires you to\nonce again sync your parity disk(s) after doing so. This means that\nuntil the parity sync completes, the array is vulnerable to data loss\nshould any disk in the array fail."}),"\n",(0,i.jsx)(n.p,{children:"To remove a disk from your array, perform the following steps:"}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsx)(n.li,{children:"Stop the array"}),"\n",(0,i.jsx)(n.li,{children:"(optional) Make note if your disk assignments under the main tab\n(for both the array and cache; some find it helpful to take a\nscreenshot)"}),"\n",(0,i.jsxs)(n.li,{children:["Perform the ",(0,i.jsx)(n.a,{href:"#reset-the-array-configuration",children:"Reset the array\nconfiguration"}),"\nprocedure. When doing this it is a good idea to use the option to\npreserve all current assignments to avoid you having to re-enter\nthem (and possibly make a mistake doing so)."]}),"\n",(0,i.jsx)(n.li,{children:"Make sure all your previously assigned disks are there and set the\ndrive you want removed to be Unassigned"}),"\n",(0,i.jsx)(n.li,{children:"Start the array without checking the 'Parity is valid' box."}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"A parity-sync will occur if at least one parity disk is assigned and\nuntil that operation completes, the array is vulnerable to data loss\nshould a disk failure occur."}),"\n",(0,i.jsx)(n.h3,{id:"alternative-method",children:"Alternative method"}),"\n",(0,i.jsx)(n.p,{children:"It is also possible to remove a disk without invalidating parity if\nspecial action is taken to make sure that the disk only contains zeroes\nas a disk that is all zeroes does not affect parity. There is no support\nfor this method built into the Unraid GUI so. it requires manual steps\nto carry out the zeroing process. It also takes much longer than the\nsimpler procedure above."}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.em,{children:"There is no official support from Limetech for using this method so you\nare doing it at your own risk."})}),"\n",(0,i.jsx)(n.h3,{id:"notes-1",children:"Notes"}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsx)(n.li,{children:"This method preserves parity protection at all times."}),"\n",(0,i.jsx)(n.li,{children:"This method can only be used if the drive to be removed is a good\ndrive that is completely empty, is mounted and can be completely\ncleared without errors occurring"}),"\n",(0,i.jsx)(n.li,{children:"This method is limited to removing only one drive at a time\n(actually this is not technically true but trying to do multiple\ndrives in parallel is slower than doing them sequentially due to the\ncontention that arises for updating the parity drive)"}),"\n",(0,i.jsxs)(n.li,{children:["As stated above, the drive must be completely empty as this process\nwill erase all existing content. If there are still any files on it\n(including hidden ones), they must be moved to another drive or\ndeleted.","\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"One quick way to clear a drive of files is to reformat it! To\nformat an array drive, you stop the array, and then on the Main\npage click on the link for the drive and change the file system\ntype to something different than it currently is, then restart\nthe array. You will then be presented with an option to format\nit. Formatting a drive removes all of its data, and the parity\ndrive is updated accordingly, so the data cannot be easily\nrecovered."}),"\n",(0,i.jsx)(n.li,{children:"Explanatory note: \"Since you are going to clear the drive\nanyway, why do I have to empty it? And what is the purpose of\nthis strange clear-me folder?\" Yes, it seems a bit draconian to\nrequire the drive to be empty since we're about to clear and\nempty it in the script, but we're trying to be absolutely\ncertain we don't cause data loss. In the past, some users\nmisunderstood the procedure, and somehow thought we would\npreserve their data while clearing the drive! This way, by\nrequiring the user to remove all data, and then add an odd\nmarker, there cannot be any accidents or misunderstandings and\ndata loss."}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"The procedure is as follows:"}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsx)(n.li,{children:"Make sure that the drive you are removing has been removed from any\ninclusions or exclusions for all shares, including in the global\nshare settings."}),"\n",(0,i.jsx)(n.li,{children:"Make sure the array is started, with the drive assigned and mounted."}),"\n",(0,i.jsxs)(n.li,{children:["Make sure you have a copy of your array assignments, especially the\nparity drive.","\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:'In theory you should not need this but it is a useful safety net\nin case if the "Retain current configuration" option under New\nConfig doesn\'t work correctly (or you make a mistake using it).'}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["It is highly recommended to turn on reconstruct write, as the write\nmethod (sometimes called 'Turbo write'). With it on, the script\ncan run 2 to 3 times as fast, saving hours!","\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"However when using 'Turbo Write' all drives must read without\nerror so do not use it unless you are sure no other drive is\nhaving issues."}),"\n",(0,i.jsxs)(n.li,{children:["To enable 'turbo Write' in ",(0,i.jsx)(n.em,{children:"Settings \u2192 Disk Settings"}),", change\nTunable (md_write_method) to reconstruct write"]}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(n.li,{children:"Make sure ALL data has been copied off the drive; drive MUST be\ncompletely empty for the clearing script to work."}),"\n",(0,i.jsxs)(n.li,{children:["Double check that there are no files or folders left on the drive.","\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Note: one quick way to clean a drive is to reformat it! (once\nyou're sure nothing of importance is left of course!)"}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["Create a single folder on the drive with the name ",(0,i.jsx)(n.strong,{children:"clear-me"})," -\nexactly 7 lowercase letters and one hyphen"]}),"\n",(0,i.jsxs)(n.li,{children:["Run the ",(0,i.jsx)(n.a,{href:"https://forums.unraid.net/forum/index.php?topic=50416.msg494968#msg494968",children:"clear an array\ndrive"}),"\nscript from the ",(0,i.jsx)(n.a,{href:"https://forums.unraid.net/forum/index.php?topic=49992",children:"User\nScripts"}),"\nplugin (or run it standalone, at a command prompt).","\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"If you prepared the drive correctly, it will completely and\nsafely zero out the drive. If you didn't prepare the drive\ncorrectly, the script will refuse to run, in order to avoid any\nchance of data loss."}),"\n",(0,i.jsx)(n.li,{children:"If the script refuses to run, indicating it did not find a\nmarked and empty drive, then very likely there are still files\non your drive. Check for hidden files. ALL files must be\nremoved!"}),"\n",(0,i.jsx)(n.li,{children:"Clearing takes a loooong time! Progress info will be displayed."}),"\n",(0,i.jsx)(n.li,{children:"For best performance, make sure there are no reads/writes\nhappening to the array. The easiest way to do this is to bring\nthe array up in maintenance mode."}),"\n",(0,i.jsx)(n.li,{children:"If running in User Scripts, the browser tab will hang for the\nentire clearing process."}),"\n",(0,i.jsx)(n.li,{children:"While the script is running, the Main screen may show invalid\nnumbers for the drive, ignore them. Important! Do not try to\naccess the drive, at all!"}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(n.li,{children:"When the clearing is complete, stop the array"}),"\n",(0,i.jsx)(n.li,{children:"Follow the procedure for resetting the array making sure you elect\nto retain all current assignments."}),"\n",(0,i.jsx)(n.li,{children:"Return to the Main page, and check all assignments. If any are\nmissing, correct them. Unassign the drive(s) you are removing.\nDouble-check all of the assignments, especially the parity drive(s)!"}),"\n",(0,i.jsx)(n.li,{children:"Click the check box for Parity is already valid, make sure it is\nchecked!"}),"\n",(0,i.jsx)(n.li,{children:"Start the array! Click the Start button then the Proceed button (on\nthe warning popup that will pop up)"}),"\n",(0,i.jsx)(n.li,{children:"(Optional) Start a correcting parity check to ensure parity really\nis valid and you did not make a mistake in the procedure. If\neverything was done correctly this should return zero errors."}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"Alternate Procedure steps for Linux proficient users"}),"\n",(0,i.jsx)(n.p,{children:"If you are happy to use the Linux Command line then you can replace\nsteps 7 and 8 by performing the clearing commands yourself at a command\nprompt. (Clearing takes just as long though!) If you would rather do\nthat than run the script in steps 7 and 8, then here are the 2 commands\nto perform:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-shell",children:"umount\xa0/mnt/diskX\ndd\xa0bs=1M\xa0if=/dev/zero\xa0of=/dev/mdX\xa0status=progress\n"})}),"\n",(0,i.jsxs)(n.p,{children:["(where X in both lines is the number of the data drive being removed)\n",(0,i.jsx)(n.strong,{children:"Important!!!"})," It is VITAL you use the correct drive number, or you\nwill wipe clean the wrong drive! That's why using the script is\nrecommended, because it's designed to protect you from accidentally\nclearing the wrong drive."]}),"\n",(0,i.jsx)(n.h2,{id:"checking-array-devices",children:"Checking array devices"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.img,{alt:"the check button lets you perform parity and read checks",src:t(5995).Z+"",width:"406",height:"67"})}),"\n",(0,i.jsxs)(n.p,{children:["When the array is started,\nthere is a button under ",(0,i.jsx)(n.strong,{children:"Array Operations"})," labelled ",(0,i.jsx)(n.em,{children:"Check"}),". Depending\non whether or not you have any parity devices assigned, one of two\noperations will be performed when clicking this button."]}),"\n",(0,i.jsxs)(n.p,{children:["It is also possible to schedule checks to be run automatically at\nUser-defined intervals under ",(0,i.jsx)(n.strong,{children:"Settings \u2192 Scheduler"}),". It is a good idea\nto do this as an automated check on array health so that problems can be\nnoticed and fixed before the array can deteriorate beyond repair.\nTypical periods for such automated checks are monthly or quarterly and\nit is recommended that such checks should be ",(0,i.jsx)(n.strong,{children:"non-correcting"}),"."]}),"\n",(0,i.jsx)(n.h3,{id:"parity-check",children:"Parity check"}),"\n",(0,i.jsxs)(n.p,{children:["If you have at least one parity device assigned, clicking ",(0,i.jsx)(n.em,{children:"Check"}),"\nwill initiate a Parity-check. This will march through all data disks in\nparallel, computing parity and checking it against stored parity on the\nparity disk(s)."]}),"\n",(0,i.jsx)(n.p,{children:"You can continue to use the array while a parity check is running but\nthe performance of any file operations will be degraded due to drive\ncontention between between the check and the file operation. The parity\ncheck will also be slowed while any such file operations are active."}),"\n",(0,i.jsxs)(n.p,{children:["By default, if an error is found during a Parity-check the parity disk\nwill be updated (written) with the computed data and the Sync Errors\ncounter will be incremented. If you wish to run purely a check without\nwriting correction, uncheck the checkbox that says ",(0,i.jsx)(n.strong,{children:"Write corrections\nto parity"})," before starting the check. In this mode, parity errors will\nbe notated but not actually fixed during the check operation."]}),"\n",(0,i.jsxs)(n.p,{children:["A ",(0,i.jsx)(n.em,{children:"correcting"}),' parity check is started automatically when starting the\narray after an "Unsafe Shutdown". An "Unsafe Shutdown" is defined as\nany time that the Unraid server was restarted without having previously\nsuccessfully stopped the array. The most common cause of Sync Errors is\nan unexpected power-loss, which prevents buffered write data from being\nwritten to disk. It is highly recommended that users consider purchasing\na UPS (uninterruptable power supply) for their systems so that Unraid\ncan be set to shut down tidily on power loss, especially if frequent\noffsite backups aren\'t being performed.']}),"\n",(0,i.jsxs)(n.p,{children:["It is also recommended that you run an automatic parity check\nperiodically and this can be done under ",(0,i.jsx)(n.em,{children:"Settings->Scheduler"}),". The\nfrequency is up to the user but monthly or quarterly are typical\nchoices. It is also recommended that such a check is set as\n",(0,i.jsx)(n.strong,{children:"non-correcting"})," as if a disk is having problems there is a chance of\nyou corrupting your parity if you set such a check to be correcting. The\nonly acceptable result from such a check is to have ",(0,i.jsx)(n.strong,{children:"0 errors"}),"\nreported. If you do have errors reported then you should take\npre-emptive action to try and find out what is causing them. If in doubt\nask questions in the forum."]}),"\n",(0,i.jsx)(n.h3,{id:"read-check",children:"Read check"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.img,{alt:"history lets you review stats on your preview check operations",src:t(8243).Z+"",width:"789",height:"54"})}),"\n",(0,i.jsxs)(n.p,{children:["If you configure an array\nwithout any parity devices assigned, the ",(0,i.jsx)(n.em,{children:"Check"})," option will start a\n",(0,i.jsx)(n.em,{children:"Read check"})," against all the devices in the array. You can use this to\ncheck disks in the array for unrecoverable read errors, but know that\nwithout a parity device, data may be lost if errors are detected."]}),"\n",(0,i.jsxs)(n.p,{children:["A ",(0,i.jsx)(n.em,{children:"Read Check"})," is also the type of check started if you have disabled\ndrives present and the number of disabled drives is larger than the\nnumber of parity drives."]}),"\n",(0,i.jsx)(n.h3,{id:"check-history",children:"Check history"}),"\n",(0,i.jsxs)(n.p,{children:["Any time a parity or read check is performed, the system will log the\ndetails of the operation and you can review them by clicking the\n",(0,i.jsx)(n.em,{children:"History"})," button under ",(0,i.jsx)(n.strong,{children:"Array Operations"}),". These are stored in a text\nfile under the config directory on your Unraid USB flash device."]}),"\n",(0,i.jsx)(n.h2,{id:"spin-up-and-down-disks",children:"Spin up and down disks"}),"\n",(0,i.jsx)(n.p,{children:"If you wish to manually control the spin state of your rotational\nstorage devices or toggle your SSD between active and standby mode,\nthese buttons provide that control. Know that if files are in the\nprocess of being accessed while using these controls, the disk(s) in use\nwill remain in an active state, ignoring your request."}),"\n",(0,i.jsx)(n.p,{children:"When disks are in a spun-down state, they will not report their\ntemperature through the WebGUI."}),"\n",(0,i.jsx)(n.h2,{id:"reset-the-array-configuration",children:"Reset the array configuration"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.img,{alt:"you can reset your disk configuration from the new config page",src:t(5597).Z+"",width:"1106",height:"309"})}),"\n",(0,i.jsx)(n.p,{children:"If you wish to remove a disk from the array or you simply wish to start\nfrom scratch to build your array configuration, there is a tool in\nUnraid that will do this for you. To reset the array configuration,\nperform the following steps:"}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsxs)(n.li,{children:["Navigate to the ",(0,i.jsx)(n.strong,{children:"Tools"})," page and click ",(0,i.jsx)(n.em,{children:"New Config"})]}),"\n",(0,i.jsx)(n.li,{children:"You can (optionally) elect to have the system preserve some of the\ncurrent assignments while resetting the array. This can be very\nuseful if you only intend to make a small change as it avoids you\nhaving to re-enter the details of the disks you want to leave\nunchanged."}),"\n",(0,i.jsx)(n.li,{children:"Click the checkbox confirming that you want to do this and then\nclick apply to perform the operation"}),"\n",(0,i.jsxs)(n.li,{children:["Return to the ",(0,i.jsx)(n.strong,{children:"Main"})," tab and your configuration will have been\nreset"]}),"\n",(0,i.jsx)(n.li,{children:"Make any adjustments to the configuration that you want."}),"\n",(0,i.jsx)(n.li,{children:"Start the array to commit the configuration. You can start in Normal\nor Maintenance mode."}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"Notes:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Unraid will recognize if any drives have been previously used by\nUnraid, and when you start the array as part of this procedure the\ncontents of such disks will be left intact."}),"\n",(0,i.jsx)(n.li,{children:"There is a checkbox next to the Start button that you can use to say\n'Parity is Valid'. Do not check this unless you are sure it is the\ncorrect thing to do, or unless advised to do so by an experienced\nUnraid user as part of a data recovery procedure."}),"\n",(0,i.jsx)(n.li,{children:"Removing a data drive from the array will always invalidate parity\nunless special action has been taken to ensure the disk being\nremoved only contains zeroes"}),"\n",(0,i.jsxs)(n.li,{children:["Reordering disks after doing the New Config without removing drives\ndoes not invalidate parity1, but it ",(0,i.jsx)(n.strong,{children:"DOES"})," invalidate parity2."]}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.em,{children:"Undoing a reset"})}),"\n",(0,i.jsx)(n.p,{children:"If for any reason after performing a reset, you wish to undo it, perform\nthe following steps:"}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsx)(n.li,{children:"Browse to your flash device over the network (SMB)"}),"\n",(0,i.jsxs)(n.li,{children:["Open the ",(0,i.jsx)(n.strong,{children:"Config"})," folder"]}),"\n",(0,i.jsxs)(n.li,{children:["Rename the file ",(0,i.jsx)(n.em,{children:"super.old"})," to ",(0,i.jsx)(n.em,{children:"super.dat"})]}),"\n",(0,i.jsxs)(n.li,{children:["Refresh the browser on the ",(0,i.jsx)(n.strong,{children:"Main"})," page and your array\nconfiguration will be restored"]}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"notifications",children:"Notifications"}),"\n",(0,i.jsx)(n.p,{children:"TBD"}),"\n",(0,i.jsx)(n.h3,{id:"status-reports",children:"Status Reports"}),"\n",(0,i.jsx)(n.p,{children:"Unraid can be configured to send you status reports about the state of\nthe array."}),"\n",(0,i.jsx)(n.p,{children:"An important point about these reports is:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"They only tell you if the array currently has any disks disabled or\nshowing read/write errors."}),"\n",(0,i.jsx)(n.li,{children:"The status is reset when you reboot the system, so it does not tell\nyou what the status was in the past."}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"IMPORTANT"}),": The status report does not take into account the\nSMART status of the drive. You can therefore get a status report\nindicating that the array appears to be healthy even though the\nSMART information might indicate that a disk might not be too\nhealthy."]}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"smart-monitoring",children:"SMART Monitoring"}),"\n",(0,i.jsx)(n.p,{children:"Unraid can be configured to report whether SMART attributes for a drive\nare changing. The idea is to try and tell you in advance if drives might\nbe experiencing problems even though they have not yet caused read/write\nerrors so that you can take pre-emptive action before a problem becomes\nserious and thus might potentially lead do data loss. You should have\nnotifications enabled so that you can see these notifications even when\nyou are not running the Unraid GUI."}),"\n",(0,i.jsx)(n.p,{children:"SMART monitoring is currently only supported for SATA drives and is not\navailable for SAS drives."}),"\n",(0,i.jsx)(n.p,{children:"Which SMART attributes are monitored can be configured by the user, but\nthe default ones are:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"5: Reallocated Sectors count"}),"\n",(0,i.jsx)(n.li,{children:"187: Reported uncorrected errors"}),"\n",(0,i.jsx)(n.li,{children:"188: Command timeout"}),"\n",(0,i.jsx)(n.li,{children:"197: Current / Pending Sector Count"}),"\n",(0,i.jsx)(n.li,{children:"198: Uncorrectable sector count"}),"\n",(0,i.jsx)(n.li,{children:"199: UDMA CRC error count"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"If any of these attributes change value then this will be indicated on\nthe Dashboard by the icon against the drive turning orange. You can\nclick on this icon and a menu will appear that allows you to acknowledge\nthat you have seen the attribute change, and then Unraid will stop\ntelling you about it unless it changes again."}),"\n",(0,i.jsx)(n.p,{children:"You can manually see all the current SMART information for a drive by\nclicking on its name on the Main tab in the Unraid GUI."}),"\n",(0,i.jsx)(n.h1,{id:"pool-cache-operations",children:"Pool (cache) Operations"}),"\n",(0,i.jsxs)(n.p,{children:["Prior to Unraid 6.9.0 there was only one pool supported and it was\nalways called ",(0,i.jsx)(n.strong,{children:"cache"}),". Starting with Unraid 6.9.0 multiple pools are\nsupported and the names of these pools are user defined. When multiple\npools are present then any (or all) of them can have the functionality\nthat was available with the cache in earlier Unraid releases."]}),"\n",(0,i.jsx)(n.p,{children:"If you are running Unraid 6.9.0 or later then any reference you find in\ndocumentation to cache can be considered as applying to any pool, not\njust one that is actually named cache."}),"\n",(0,i.jsx)(n.h2,{id:"why-use-a-pool",children:"Why use a Pool?"}),"\n",(0,i.jsx)(n.p,{children:"There are several reasons why a user might want to use a pool in Unraid."}),"\n",(0,i.jsx)(n.p,{children:"It is worth pointing out that these uses are not mutually exclusive as a\nsingle pool can be used for multiple Use Cases."}),"\n",(0,i.jsx)(n.p,{children:"UnRaid 6.9 (or later) also supports multiple pools so it is possible to\nhave individual pools dedicated to specific Use Cases."}),"\n",(0,i.jsx)(n.h3,{id:"cache",children:"Cache"}),"\n",(0,i.jsx)(n.p,{children:"The way that Unraid handles parity means that the speed of writing to a\nparity protected array is lower than might be expected by the raw speed\nof the array disks. If a pool is configured to act as a cache for a User\nShare then the perceived speed of writing to the array is that supported\nby the pool rather than the speed of writing directly to the array."}),"\n",(0,i.jsx)(n.p,{children:"A particular User Share can only be associated with one pool at a time,\nbut it is not necessary for all User Shares to be associated with the\nsame pool."}),"\n",(0,i.jsx)(n.h3,{id:"docker-application-storage",children:"Docker application Storage"}),"\n",(0,i.jsx)(n.p,{children:"Docker containers basically consist of 2 parts - the binaries that are\ntypically stored within the docker.img file that are static and only\nupdated when the container updates, and the working set that is meant to\nbe mapped to be external to the docker container (typically as a\ncontainer specific subfolder within the appdata share. There are good\nreasons to hold both categories on a Pool for several reasons:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Writes are much faster than when held on the array as they are not\nslowed down by the way in which UnRaid updates parity for a parity\nprotected array"}),"\n",(0,i.jsx)(n.li,{children:"The working set can be accessed and updated faster when stored on a\nPool."}),"\n",(0,i.jsx)(n.li,{children:"It is not necessary to have array disks spun up when a container is\naccessing its binaries or using its working set."}),"\n"]}),"\n",(0,i.jsx)(n.h3,{id:"vm-vdisks",children:"VM vdisks"}),"\n",(0,i.jsx)(n.p,{children:"Most VM's will have one (or more) vdisk files used to emulate a hard\ndisk or iso files to emulate a CD-ROM."}),"\n",(0,i.jsx)(n.p,{children:"Performance of VMs is much better if such files are on a Pool rather\nthan on an array drive."}),"\n",(0,i.jsx)(n.h2,{id:"pool-modes",children:"Pool Modes"}),"\n",(0,i.jsx)(n.p,{children:"There are two primary modes of operating a pool in Unraid:"}),"\n",(0,i.jsx)(n.h3,{id:"single-device-mode",children:"Single device mode"}),"\n",(0,i.jsx)(n.p,{children:"When the number of disk slots for the pool is set to one, this is\nreferred to as running in single device mode. In this mode, you will\nhave no protection for any data that exists on the pool, which is why\nmulti-device mode is recommended. However, unlike in multi-device mode,\nwhile in single device mode, you are able to adjust the filesystem for\nthe cache device to something other than BTRFS. It is for this reason\nthat there are no special operations for single mode. You can only add\nor remove the device from the system."}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.em,{children:"NOTE: If you choose to use a non-BTRFS file system for your pool device\noperating in single mode, you will not be able to expand to a\nmulti-device pool without first reformatting the device with BTRFS. It\nis for this reason that BTRFS is the default filesystem for a pool, even\nwhen operating in single device mode."})}),"\n",(0,i.jsx)(n.h3,{id:"multi-device-mode",children:"Multi-Device mode"}),"\n",(0,i.jsxs)(n.p,{children:["When more than one disk is assigned to the pool, this is referred to as\nrunning in multi-device mode. This mode utilizes a BTRFS specific\nimplementation of RAID 1 in order to allow for any number of devices to\nbe grouped together in a pool. Unlike a traditional RAID 1, a BTRFS\nRAID1 can mix and match devices of different sizes and speeds and can\neven be expanded and contracted as your needs change. To calculate how\nmuch capacity your BTRFS pool will have, check out this handy ",(0,i.jsx)(n.a,{href:"http://carfax.org.uk/btrfs-usage/",children:"btrfs\ndisk usage calculator"}),". Set the\nPreset RAID level to RAID-1, select the number of devices you have, and\nset the size for each. The tool will automatically calculate how much\nspace you will have available."]}),"\n",(0,i.jsx)(n.p,{children:"Here are typical operations that are likely to want to carry out on the\npool:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Back up the pool to the array"}),"\n",(0,i.jsx)(n.li,{children:"Switch the pool to run in multi-device mode"}),"\n",(0,i.jsx)(n.li,{children:"Add disks"}),"\n",(0,i.jsx)(n.li,{children:"Replace a disk"}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"backing-up-the-pool-to-the-array",children:"Backing up the pool to the array"}),"\n",(0,i.jsx)(n.p,{children:"The procedure shown assumes that there are at least some dockers and/or\nVMs related files on the cache disk, some of these steps are unnecessary\nif there aren't."}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsx)(n.li,{children:"Stop all running Dockers/VMs"}),"\n",(0,i.jsx)(n.li,{children:"Settings \u2192 VM Manager: disable VMs and click apply"}),"\n",(0,i.jsx)(n.li,{children:"Settings \u2192 Docker: disable Docker and click apply"}),"\n",(0,i.jsx)(n.li,{children:'Click on Shares and change to "Yes" all User Shares with "Use\ncache disk:" set to "Only" or "Prefer"'}),"\n",(0,i.jsx)(n.li,{children:'Check that there\'s enough free space on the array and invoke the\nmover by clicking "Move Now" on the Main page'}),"\n",(0,i.jsx)(n.li,{children:"When the mover finishes check that your pool is empty"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"Note that any files on the pool root will not be moved as they\nare not part of any share and will need manual attention"}),"\n",(0,i.jsx)(n.p,{children:"You can then later restore files to the pool by effectively reversing\nthe above steps:"}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsx)(n.li,{children:'Click on all shares whose content you want on the pool and set "Use\ncache:" option to "Only" or "Prefer" as appropriate.'}),"\n",(0,i.jsx)(n.li,{children:'Check that there\'s enough free space on the pool and invoke the\nmover by clicking "Move Now" on the Main page'}),"\n",(0,i.jsx)(n.li,{children:"When the mover finishes check that your pool now has the expected\ncontent and that the shares in question no longer have files on the\nmain array"}),"\n",(0,i.jsx)(n.li,{children:"Settings \u2192 Docker: enable Docker and click apply"}),"\n",(0,i.jsx)(n.li,{children:"Settings \u2192 VM Manager: enable VMs and click apply"}),"\n",(0,i.jsx)(n.li,{children:"Start any Dockers/VMs that you want to be running"}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"switching-the-pool-to-multi-device-mode",children:"Switching the pool to multi-device mode"}),"\n",(0,i.jsx)(n.p,{children:"If you want a multi-device pool then the only supported format for this\nis BTRFS. If it is already in BTRFS format then you can follow the\nprocedure below for adding an additional drive to a pool"}),"\n",(0,i.jsx)(n.p,{children:"If the cache is NOT in BTRFS format then you will need to do the\nfollowing:"}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsx)(n.li,{children:"Use the procedure above for backing up any existing content you want\nto keep to the array."}),"\n",(0,i.jsx)(n.li,{children:"Stop the array"}),"\n",(0,i.jsx)(n.li,{children:"Click on the pool on the Main tab and change the format to be BTRFS"}),"\n",(0,i.jsx)(n.li,{children:"Start the array"}),"\n",(0,i.jsxs)(n.li,{children:["The pool should how show as ",(0,i.jsx)(n.strong,{children:"unmountable"})," and offer the option to\nformat the pool."]}),"\n",(0,i.jsx)(n.li,{children:"Confirm that you want to do this and click the format button"}),"\n",(0,i.jsx)(n.li,{children:"When the format finishes you now have a multi-device pool (albeit\nwith only one drive in it)"}),"\n",(0,i.jsx)(n.li,{children:"If you want additional drives in the pool you can (optionally) do it\nnow."}),"\n",(0,i.jsx)(n.li,{children:"Use the restore part of the previous procedure to restore any\ncontent you want on the pool"}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"adding-disks-to-a-pool",children:"Adding disks to a pool"}),"\n",(0,i.jsx)(n.p,{children:"Notes:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["You can only do this if the pool is ",(0,i.jsx)(n.strong,{children:"already"})," formatted as BTRFS"]}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"If it is not then you will need to first follow the steps in the\nprevious section to create a pool in BTRFS format."}),"\n",(0,i.jsx)(n.p,{children:"To add disks to the BTRFS pool perform the following steps:"}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsx)(n.li,{children:"Stop the array."}),"\n",(0,i.jsxs)(n.li,{children:["Navigate to the ",(0,i.jsx)(n.strong,{children:"Main"})," tab."]}),"\n",(0,i.jsxs)(n.li,{children:["Scroll down to the section labeled ",(0,i.jsx)(n.em,{children:"Pool Devices"}),"."]}),"\n",(0,i.jsxs)(n.li,{children:["Change the number of ",(0,i.jsx)(n.strong,{children:"Slots"})," to be at least as many as the number\nof devices you wish to assign."]}),"\n",(0,i.jsx)(n.li,{children:"Assign the devices you wish to the pool slot(s)."}),"\n",(0,i.jsx)(n.li,{children:"Start the array."}),"\n",(0,i.jsxs)(n.li,{children:["Click the checkbox and then the button under ",(0,i.jsx)(n.strong,{children:"Array Operations"})," to\nformat the devices."]}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"Make sure that the devices shown are those you expect - you do not\nwant to accidentally format a device that contains data you want to\nkeep."}),"\n",(0,i.jsx)(n.h2,{id:"removing-disks-from-a-multi-device-pool",children:"Removing disks from a multi-device pool"}),"\n",(0,i.jsx)(n.p,{children:"Notes:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"You can only do this if your pool is configured for redundancy at\nboth the data and metadata level."}),"\n",(0,i.jsx)(n.li,{children:"You can check what raid level your pool is currently set to by\nclicking on it on the Main tab and scrolling down to the Balance\nStatus section."}),"\n",(0,i.jsx)(n.li,{children:"You can only remove one drive at a time"}),"\n"]}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsx)(n.li,{children:"Stop the array"}),"\n",(0,i.jsx)(n.li,{children:"Unassign a pool drive."}),"\n",(0,i.jsx)(n.li,{children:"Start the array"}),"\n",(0,i.jsx)(n.li,{children:"Click on the pool drive"}),"\n",(0,i.jsx)(n.li,{children:"If you still have more than one drive in the pool then you can\nsimply run a Balance operation"}),"\n",(0,i.jsx)(n.li,{children:"If you only have one drive left in the pool then switch the pool\nRAID level to single as described below"}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"change-pool-raid-levels",children:"Change Pool RAID Levels"}),"\n",(0,i.jsx)(n.p,{children:"BTRFS can add and remove devices online, and freely convert between RAID\nlevels after the file system has been created."}),"\n",(0,i.jsx)(n.p,{children:"BTRFS supports raid0, raid1, raid10, raid5, and raid6 (but note that\nraid5/6 are still considered experimental so use with care i.e. make\nsure you have good backups if using these modes), and it can also\nduplicate metadata or data on a single spindle or multiple disks. When\nblocks are read in, checksums are verified. If there are any errors,\nBTRFS tries to read from an alternate copy and will repair the broken\ncopy if the alternative copy succeeds."}),"\n",(0,i.jsx)(n.p,{children:"By default, Unraid creates BTRFS volumes in a pool with data=raid1 and\nmetadata=raid1 to give redundancy."}),"\n",(0,i.jsxs)(n.p,{children:["For more information about the BTRFS options when using multiple devices\nsee the ",(0,i.jsx)(n.a,{href:"https://btrfs.wiki.kernel.org/index.php/Using_Btrfs_with_Multiple_Devices",children:"BTRFS wiki\narticle"}),"."]}),"\n",(0,i.jsx)(n.p,{children:"You can change the BTRFS raid levels for a pool from the Unraid GUI by:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"If the array is not started then start it in normal mode"}),"\n",(0,i.jsx)(n.li,{children:"Click on the Pool name on the Main tab"}),"\n",(0,i.jsx)(n.li,{children:"Scroll down to the Balance section"}),"\n",(0,i.jsx)(n.li,{children:"At this point information (including current RAID levels) will be\ndisplayed."}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"If using UnRaid 6.8.3 or earlier"})," then add the appropriate\nadditional parameters added to the ",(0,i.jsx)(n.em,{children:"Options"})," field."]}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"As an example, the following screenshot shows how you might convert\nthe pool from the RAID1 to the SINGLE profile."}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.img,{src:t(7791).Z+"",width:"1158",height:"307"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"If using UnRaid 6.9.0 or later"})," this has been made even easier by\ngiving you a drop-down list of the available options to simply\nselecting the one you want"]}),"\n",(0,i.jsx)(n.li,{children:"Start the Balance operation."}),"\n",(0,i.jsx)(n.li,{children:"Wait for the Balance to complete"}),"\n",(0,i.jsx)(n.li,{children:"The new RAID level will now be fully operational."}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"replace-a-disk-in-a-pool",children:"Replace a disk in a pool"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Notes:"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["You can only do this if the pool is formatted as BTRFS ",(0,i.jsx)(n.strong,{children:"AND"})," it is\nset up to be redundant."]}),"\n",(0,i.jsx)(n.li,{children:"You can only replace up to one disk at a time from a pool."}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"To replace a disk in the redundant pool, perform the following steps:"}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsx)(n.li,{children:"Stop the array."}),"\n",(0,i.jsx)(n.li,{children:"Physically detach the disk from your system you wish to remove."}),"\n",(0,i.jsx)(n.li,{children:"Attach the replacement disk (must be equal to or larger than the\ndisk being replaced)."}),"\n",(0,i.jsxs)(n.li,{children:["Refresh the Unraid WebGUI when under the ",(0,i.jsx)(n.strong,{children:"Main"})," tab."]}),"\n",(0,i.jsx)(n.li,{children:"Select the pool slot that previously was set to the old disk and\nassign the new disk to the slot."}),"\n",(0,i.jsx)(n.li,{children:"Start the array."}),"\n",(0,i.jsxs)(n.li,{children:["If presented with an option to ",(0,i.jsx)(n.strong,{children:"Format"})," the device, click the\ncheckbox and button to do so."]}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"remove-a-disk-from-a-pool",children:"Remove a disk from a pool"}),"\n",(0,i.jsx)(n.p,{children:"There have been times when users have indicated they would like to\nremove a disk from a pool they have set up while keeping all the data\nintact. This cannot be done from the Unraid GUI but is easy enough to do\nfrom the command line in a console session."}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Note"}),": You need to maintain the minimum number of devices for the\nprofile in use, i.e., you can remove a device from a 3+ device raid1\npool but you can't remove one from a 2 device raid1 pool (unless it's\nconverted to a single profile first), also make sure the remaining\ndevices have enough space for the current used pool space, or the\nremoval will fail."]}),"\n",(0,i.jsx)(n.p,{children:"With the array running type on the console:"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.code,{children:"btrfs\xa0device\xa0remove\xa0/dev/sdX1\xa0/mnt/cache"})}),"\n",(0,i.jsx)(n.p,{children:"Replace X with the correct letter for the drive you want to remove from\nthe system as shown on the Main tab (don't forget the 1 after it)."}),"\n",(0,i.jsx)(n.p,{children:"If the device is encrypted, you will need slightly different syntax:"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.code,{children:"btrfs device remove /dev/mapper/sdX1 /mnt/cache"})}),"\n",(0,i.jsxs)(n.p,{children:["If the drive is an NVMe device, use ",(0,i.jsx)(n.code,{children:"nvmeXn1p1"})," in place of ",(0,i.jsx)(n.code,{children:"sdX1"})]}),"\n",(0,i.jsx)(n.p,{children:"Wait for the device to be deleted (i.e., until the command completes and\nyou get the cursor back)."}),"\n",(0,i.jsx)(n.p,{children:"The device is now removed from the pool, you don't need to stop the\narray now, but at the next array stop you need to make Unraid forget the\nnow-deleted member, and to achieve that:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Stop the array"}),"\n",(0,i.jsx)(n.li,{children:"Unassign all pool devices"}),"\n",(0,i.jsx)(n.li,{children:'Start the array to make Unraid "forget" the pool config'}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"If the docker and/or VMs services were using that pool best to\ndisable those services before start or Unraid will recreate the\nimages somewhere else, assuming they are using /mnt/user paths)"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Stop array (re-enable docker/VM services if disabled above)"}),"\n",(0,i.jsx)(n.li,{children:"Re-assign all pool member except the removed device"}),"\n",(0,i.jsx)(n.li,{children:"Start array"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"Done"}),"\n",(0,i.jsx)(n.p,{children:"You can also remove multiple devices with a single command (as long as\nthe above rule is observed):"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.code,{children:"btrfs\xa0device\xa0remove\xa0/dev/sdX1\xa0/dev/sdY1\xa0/mnt/cache"})}),"\n",(0,i.jsx)(n.p,{children:"but in practice this does the same as removing one device, then the\nother, as they are still removed one at a time, just one after the other\nwith no further input from you."}),"\n",(0,i.jsx)(n.h2,{id:"minimum-free-space-for-a-pool",children:"Minimum Free Space for a Pool"}),"\n",(0,i.jsxs)(n.p,{children:["This setting is used to help avoid the issue of a pool that is being\nused for a User Share running out of free space and this then causing\nerrors to occur. The Minimum Free Space setting for a pool tells Unraid\nwhen to stop putting new files onto the pool for User Shares that have a\n",(0,i.jsx)(n.em,{children:"Use Cache"})," setting of ",(0,i.jsx)(n.strong,{children:"Yes"})," or ",(0,i.jsx)(n.strong,{children:"Prefer"}),". Unraid does ",(0,i.jsx)(n.strong,{children:"not"})," take\ninto account file size when selecting a pool and once Unraid has\nselected a pool for a file it will not change its mind, and if the file\ndoes not fit you get an out-of-space error. The purpose of the Minimum\nFree Space value is that when the free space falls below the level you\nset Unraid will start bypassing the pool and writing directly to the\narray for any new files. You should therefore set this setting to be\nlarger than the biggest file you intend to be cached on the pool. In\nmany ways it is analogous to the setting of the same name for User\nShares but it applies to the pool rather than the array disks. It is\nignored for User Shares which have a ",(0,i.jsx)(n.em,{children:"Use Cache"})," setting of ",(0,i.jsx)(n.strong,{children:"Only"}),",\nand is not relevant if the setting is ",(0,i.jsx)(n.strong,{children:"No"}),"."]}),"\n",(0,i.jsxs)(n.p,{children:["For ",(0,i.jsx)(n.strong,{children:"Unraid 6.8.3"})," (and earlier) which only supported a single pool\n(that was always called cache) this setting can be found under\n",(0,i.jsx)(n.em,{children:"Settings \u2192 Global Share Settings"}),"."]}),"\n",(0,i.jsxs)(n.p,{children:["For ",(0,i.jsx)(n.strong,{children:"Unraid 6.9.0"})," (and later) which supports multiple pools (with the\nnames being user defined) this setting can be found by clicking on the\npool name on the Main tab."]}),"\n",(0,i.jsx)(n.h2,{id:"moving-files-between-a-pool-and-the-array",children:"Moving files between a Pool and the array"}),"\n",(0,i.jsxs)(n.p,{children:["A topic that seems to come up with some frequency is what is the process\nfor getting files that belong to shares (e.g. ",(0,i.jsx)(n.em,{children:"appdata"}),", ",(0,i.jsx)(n.em,{children:"system"}),") that\nit is normally recommended are held on a pool device for performance\nreasons moved to or from the array if the need arises."]}),"\n",(0,i.jsx)(n.h3,{id:"moving-files-from-pool-to-array",children:"Moving files from pool to array"}),"\n",(0,i.jsx)(n.p,{children:"A typical Use Case for this action is to get files off the pool so that\nyou can safely perform some action that you are worried might end up\nlosing any existing contents. The steps are:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["Disable the Docker and VM services under ",(0,i.jsx)(n.em,{children:"Settings"}),". This is done to\nensure that they will not hold any files open as that would stop\n",(0,i.jsx)(n.em,{children:"mover"})," from being able to move them."]}),"\n",(0,i.jsxs)(n.li,{children:["Go to the Shares tab and for each share you want to be moved from\nthe cache to the array ensure that the ",(0,i.jsx)(n.em,{children:"Use Cache"})," setting is set to\n",(0,i.jsx)(n.strong,{children:"Yes"}),"."]}),"\n",(0,i.jsxs)(n.li,{children:["Go to the Main tab and manually start the ",(0,i.jsx)(n.strong,{children:"mover"})," process so that\nit starts transferring the files from the cache to the array."]}),"\n",(0,i.jsx)(n.li,{children:"When moves completes the files should now be on the array. You can\nvalidate there are no files left behind by clicking on the\n'folder' icon at the right side of the cache entry on the Main\ntab."}),"\n"]}),"\n",(0,i.jsx)(n.h3,{id:"moving-files-from-array-to-pool",children:"Moving files from array to pool"}),"\n",(0,i.jsxs)(n.p,{children:["The commonest Use Cases for this is when you have either used the above\nsteps to get files off the cache and now want them back there or if you\nhave newly added a cache drive and want the files for selected shares\n(typically ",(0,i.jsx)(n.em,{children:"appdata"})," and ",(0,i.jsx)(n.em,{children:"system"}),") to be moved to the cache. The steps\nare:"]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["Disable the Docker and VM services under Settings. This is done to\nensure that they will not hold any files open as that would stop\n",(0,i.jsx)(n.em,{children:"mover"})," from being able to move them."]}),"\n",(0,i.jsxs)(n.li,{children:["Go to the Shares tab and for each share you want to be moved from\nthe array to the cache ensure that the ",(0,i.jsx)(n.em,{children:"Use Cache"})," setting is set to\n",(0,i.jsx)(n.strong,{children:"Prefer"}),"."]}),"\n",(0,i.jsxs)(n.li,{children:["Go to the Main tab and manually start the ",(0,i.jsx)(n.strong,{children:"mover"})," process so that\nit starts transferring the files from the array to the cache."]}),"\n",(0,i.jsx)(n.li,{children:"When moves completes the files should now be on the cache."}),"\n",(0,i.jsxs)(n.li,{children:["Re-enable the Docker and/or VM services under ",(0,i.jsx)(n.em,{children:"Settings"})," (if you use\nthem)."]}),"\n",(0,i.jsxs)(n.li,{children:["(optional) Go to the Shares tab and for each share you want all\nfiles always be on the cache set the ",(0,i.jsx)(n.em,{children:"Use Cache"})," setting to ",(0,i.jsx)(n.strong,{children:"Only"}),"\nto stop any new files for this share being created on the array in\nthe future."]}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"multiple-pools",children:"Multiple Pools"}),"\n",(0,i.jsx)(n.p,{children:"As of version 6.9, you can create multiple pools and manage them\nindependently. This feature permits you to define up to 35 named pools,\nof up to 30 storage devices per pool.\xa0 Pools are created and managed via\nthe Main page."}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:['Note: A pre-6.9.0 cache disk/pool is now simply a pool named\n"cache".\xa0 When you upgrade a server which has a cache disk/pool\ndefined, a backup of ',(0,i.jsx)(n.code,{children:"config/disk.cfg"})," will be saved to\n",(0,i.jsx)(n.code,{children:"config/disk.cfg.bak"}),", and then cache device assignment settings are\nmoved out of ",(0,i.jsx)(n.code,{children:"config/disk.cfg"})," and into a new file,\n",(0,i.jsx)(n.code,{children:"config/pools/cache.cfg"}),".\xa0 If later you revert back to a pre-6.9.0\nUnraid OS release you will lose your cache device assignments and\nyou will have to manually re-assign devices to cache.\xa0 As long as\nyou reassign the correct devices, data should remain intact."]}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"When you create a user share or edit an existing user share, you can\nspecify which pool should be associated with that share.\xa0 The assigned\npool functions identically to the current cache pool operation."}),"\n",(0,i.jsx)(n.p,{children:"Something to be aware of: when a directory listing is obtained for a\nshare, the Unraid array disk volumes and all pools which contain that\nshare are merged in this order:"}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"pool assigned to share"}),"\n",(0,i.jsx)(n.p,{children:"disk1"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.code,{children:":"})}),"\n",(0,i.jsx)(n.p,{children:"disk28"}),"\n",(0,i.jsxs)(n.p,{children:["all the ",(0,i.jsx)(n.em,{children:"other"})," pools in\n",(0,i.jsx)(n.a,{href:"https://man7.org/linux/man-pages/man3/strverscmp.3.html",children:"strverscmp()"}),"\norder."]}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"A single-device pool may be formatted with either xfs, btrfs, or\n(deprecated) reiserfs.\xa0 A multiple-device pool may only be formatted\nwith btrfs."}),"\n",(0,i.jsxs)(n.p,{children:['Note: Something else to be aware of: Let\'s say you have a 2-device\nbtrfs pool. This will be what btrfs calls "raid1" and what most people\nwould understand to be "mirrored disks". Well, this is mostly true in\nthat the same data exists on both disks but not necessarily at the\nblock-level.\xa0 Now let\'s say you create another pool, and what you do is\nun-assign one of the devices from the existing 2-device btrfs pool and\nassign it to this pool.\xa0 Now you have x2 single-device btrfs pools.\nUpon array Start user might understandably assume there are now x2 pools\nwith exactly the same data.\xa0 However, ',(0,i.jsx)(n.strong,{children:"this is not the case"}),". Instead,\nwhen Unraid OS sees that a btrfs device has been removed from an\nexisting multi-device pool, upon array Start it will do a ",(0,i.jsx)(n.code,{children:"wipefs"})," on\nthat device so that upon mount it will not be included in the old pool.\nThis of course effectively deletes all the data on the moved device."]}),"\n",(0,i.jsx)(n.h3,{id:"moving-files-between-pools",children:"Moving files between pools"}),"\n",(0,i.jsxs)(n.p,{children:["There is no built-in support for moving files between pools. In the\nevent one wants to do this you can do it using the ",(0,i.jsx)(n.strong,{children:"mover"})," application\nusing the techniques mentioned during earlier by doing it in two steps"]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Move the files from pool1 to the main array"}),"\n",(0,i.jsx)(n.li,{children:"move the files from the array to pool2"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"The alternative is to it manually in which case you can move files\ndirectly between the pools."}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Do not forget that if any the files belong to a Docker container\nand/or VM then the services must be disabled for the files to be moved\nsuccessfully"}),"."]}),"\n",(0,i.jsx)(n.h1,{id:"file-system-management",children:"File System Management"}),"\n",(0,i.jsx)(n.h2,{id:"selecting-a-file-system-type",children:"Selecting a File System type"}),"\n",(0,i.jsx)(n.p,{children:"Each array drive in an Unraid system is set up as a self-contained file\nsystem. Unraid currently supports the following file system types:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"XFS"}),": This is the default format for array drives on a new\nsystem. It is a well-tried Linux file system and deemed to be the\nmost robust."]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"XFS is better at recovering from file system corruption than\nBTRFS or ZFS (which can happen after unclean shutdowns or system\ncrashes)."}),"\n",(0,i.jsx)(n.li,{children:"If used on an array drive then each XFS format drive is a single\nself-contained file system."}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"ZFS"}),": This is a newer file system introduced with Unraid 6.12\nthat supports advanced features not available with XFS."]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"It supports detecting file content corruption (often\ncolloquially known as bit-rot) by internally using checksum\ntechniques"}),"\n",(0,i.jsx)(n.li,{children:"If used on array drives then each ZFS format drive is an\nindividual free-standing BTRFS file system."}),"\n",(0,i.jsx)(n.li,{children:"It can support a single file system spanning multiple drives.\nNormally each drive would be of the same size, but if not then\nonly the amount of space equivalent to that on the smallest\ndrive will be used."}),"\n",(0,i.jsx)(n.li,{children:"In multi-drive mode various levels of RAID can be supported. The\ndefault in Unraid for a cache pool is RAID1 so that data is\nstored redundantly to protect against drive failure."}),"\n",(0,i.jsx)(n.li,{children:"It is an option supported when using a cache pool spanning multiple\ndrives that need to run as a single logical drive as this needs\nthe multi-drive support."}),"\n",(0,i.jsx)(n.li,{children:"In multi-drive mode in the cache pool the usable space is always\na multiple of the smallest drive (if they are not the same\nsize)."}),"\n",(0,i.jsx)(n.li,{children:"It is thought to be better at recovering from file system\ncorruption than BTRFS, although not as good as XFS."}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"BTRFS"}),": This is a newer file system that supports advanced\nfeatures not available with XFS. It is considered not quite as\nstable as XFS but many Unraid users have reported in seems as robust\nas XFS when used on array drives where each drive is a\nself-contained file system. Some of its features are:"]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"It supports detecting file content corruption (often\ncolloquially known as bit-rot) by internally using checksum\ntechniques."}),"\n",(0,i.jsx)(n.li,{children:"If used on array drives then each BTRFS format drive is an\nindividual free-standing BTRFS file system."}),"\n",(0,i.jsx)(n.li,{children:"It can support a single file system spanning multiple drives,\nand in such a case it is not necessary that the drives all be of\nthe same size. It is better than ZFS at making use of available\nspace in a multi-drive pool where the drives are of different\nsizes."}),"\n",(0,i.jsx)(n.li,{children:"In multi-drive mode various levels of RAID can be supported\n(although these are a BTRFS specific implementation and not\nnecessarily what one expects). The default in Unraid for a cache\npool is RAID1 so that data is stored redundantly to protect\nagainst drive failure."}),"\n",(0,i.jsx)(n.li,{children:"It is an option supported when using a cache pool spanning\nmultiple drives that need to run as a single logical drive as\nthis needs the multi-drive support."}),"\n",(0,i.jsx)(n.li,{children:"In multi-drive mode in the cache pool the available space is\nalways a multiple of the smallest drive size."}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"ReiserFS"}),": This is supported for legacy reasons for those\nmigrating from earlier versions of Unraid where it was the only\nsupported file system type."]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"There is only minimal involvement from Linux kernel developers\non maintaining the ReiserFS drivers on new Linux kernel versions\nso the chance of a new kernel causing problems with ReiserFS is\nhigher than for other Linux file system types."}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.strong,{children:"It has a hard limit of 16TB on a ReiserFS file system and\ncommercial grade hard drives have now reached this limit."})}),"\n",(0,i.jsx)(n.li,{children:"Write performance can degrade significantly as the file system\nstarts getting full."}),"\n",(0,i.jsx)(n.li,{children:"It is extremely good at recovering from even extreme levels of\nfile system corruption"}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"It is now deprecated for use with Unraid and should not be\nused by new users."})," Support for ReiserFS is due to be removed\nfrom the Linux kernel by 2025 and at that point Unraid will also\nlikely stop supporting ReiserFS so existing users should be looking\nto move off using ReiserFS in their Unraid system."]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"These formats are standard Linux formats and as such any array drive can\neasily be removed from the array and read on any Linux system. This can\nbe very useful in any data recovery scenario. Note, however, that the\ninitial format needs to be done on the Unraid system as Unraid has\nspecific requirements around how the disk is partitioned that are\nunlikely to be met if the partitioning is not done on Unraid.\nUnfortunately, these formats cannot be read as easily on Windows or\nmacOS systems as these OS do not recognize the file system formats\nwithout additional software being installed that is not freely\nobtainable."}),"\n",(0,i.jsx)(n.p,{children:"A user can use a mixture of these file system types in their Unraid\nsystem without it causing any specific issues. In particular, the Unraid\nparity system is file system agnostic as it works at the physical sector\nlevel and is not even aware of the file system that is in use on any\nparticular drive."}),"\n",(0,i.jsxs)(n.p,{children:["In addition drives can be\n",(0,i.jsx)(n.a,{href:"/unraid-docs/es/unraid-os/manual/security/data-encryption",children:"encrypted"}),". ",(0,i.jsx)(n.strong,{children:(0,i.jsx)(n.em,{children:"A point to\nnote about using encryption is that if you get any sort of file system\ncorruption then encryption can make it harder (and sometimes impossible\nto recover data on the corrupted file system."})})]}),"\n",(0,i.jsxs)(n.p,{children:["If using a cache pool (i.e multiple drives) then the supported types are\nBTRFS or ZFS and the pool is formatted as a single entity. By default,\nthis will be a version of RAID1 to give redundancy, but other options\ncan be achieved by running the appropriate ",(0,i.jsx)(n.em,{children:"btrfs"})," command."]}),"\n",(0,i.jsxs)(n.p,{children:["Additional file formats are supported by the ",(0,i.jsx)(n.strong,{children:"Unassigned Devices"})," and\n",(0,i.jsx)(n.strong,{children:"Unassigned Devices Plus"})," plugins. There can be useful when you have\ndrives that are to be used for transfer purposes, particularly to\nsystems that do not support standard Linux formats."]}),"\n",(0,i.jsx)(n.h2,{id:"setting-a-file-system-type",children:"Setting a File System type"}),"\n",(0,i.jsx)(n.p,{children:"The File System type for a new drive can be set in 2 ways:"}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsxs)(n.li,{children:["Under ",(0,i.jsx)(n.em,{children:"Settings \u2192 Disk Settings"})," the default type for array drives\nand the cache pool can be set.","\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"On a new Unraid system this will be XFS for array drives and\nBTRFS for the cache."}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["Explicitly for individual drives by clicking on a drive on the Main\ntab (with the array stopped) and selecting a type from those\noffered.","\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["When a drive is first added the file system type will show as\n",(0,i.jsx)(n.strong,{children:"auto"})," which means use the setting specified under\n",(0,i.jsx)(n.em,{children:"Settings \u2192 Disk Settings"}),"."]}),"\n",(0,i.jsx)(n.li,{children:"Setting an explicit type over-rides the global setting"}),"\n",(0,i.jsx)(n.li,{children:"The only supported format for a cache containing more than one\ndrive is BTRFS."}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"creating-a-file-system-format",children:"Creating a File System (Format)"}),"\n",(0,i.jsxs)(n.p,{children:['Before a disk can be used in Unraid then an empty file system of the\ndesired type needs to be created on the disk. This is the operation\ncommonly known as "format" and it ',(0,i.jsx)(n.strong,{children:"erases"})," any existing content on\nthe disk."]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"WARNING:"})}),"\n",(0,i.jsxs)(n.p,{children:["If a drive has already been formatted by Unraid then if it now shows as\n",(0,i.jsx)(n.strong,{children:"unmountable"})," you probably do ",(0,i.jsx)(n.strong,{children:"NOT"})," want to format it again unless\nyou want to ",(0,i.jsx)(n.strong,{children:"erase"})," its contents. In such cases, the appropriate\naction is usually instead to use the ",(0,i.jsx)(n.em,{children:"File System check/repair process"}),"\ndetailed later."]}),"\n",(0,i.jsx)(n.p,{children:"The basic process to format a drive once the file system type has been\nset is:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Start the array"}),"\n",(0,i.jsxs)(n.li,{children:["Any drives where Unraid does not recognize the format will be shown\nas ",(0,i.jsx)(n.strong,{children:"unmountable"})," and there will be an option to format unmountable\ndrives"]}),"\n",(0,i.jsxs)(n.li,{children:["Check that ",(0,i.jsx)(n.strong,{children:"ALL"})," the drives shown as unmountable are ones you want\nto format. You do not want to accidentally format another drive and\nerase its contents"]}),"\n",(0,i.jsx)(n.li,{children:"Click the check box to say you really want to format the drive."}),"\n",(0,i.jsx)(n.li,{children:"Carefully read the resulting dialog that outlines the consequences"}),"\n",(0,i.jsxs)(n.li,{children:["The ",(0,i.jsx)(n.strong,{children:"Format"})," button will now be enabled so if you want to go ahead\nwith the format click on it."]}),"\n",(0,i.jsxs)(n.li,{children:["The format process will start running for the specified disks.","\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"If the disk has not previously been used by Unraid then it will\nstart by rewriting the partition table on the drive to conform\nto the standard Unraid expects."}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(n.li,{children:"The format should only take a few minutes but if the progress does\nnot automatically update you might need to refresh the Main tab."}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"Once the format has completed then the drive is ready to start being\nused to store files."}),"\n",(0,i.jsx)(n.h2,{id:"drive-shows-as-unmountable",children:"Drive shows as unmountable"}),"\n",(0,i.jsxs)(n.p,{children:["A drive can show as ",(0,i.jsx)(n.strong,{children:"unmountable"})," in the Unraid GUI for two reasons:"]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:"The disk has never been used in Unraid and you have just added is\nnew a new disk slot in the array. In this case, you want to follow\nthe format procedure shown above to create a new empty file system\non the drive so it is ready to receive files."}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:"File system corruption has occurred. This means that the file system\ndriver has noticed some inconsistency in the file system control\nstructures. This is not infrequent if a write to a disk fails for\nany reason and Unraid marks the disk as disabled, although it can\noccur at other times as well."}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Note:"})," If a disk is showing as both ",(0,i.jsx)(n.strong,{children:"unmountable and disabled"}),"\n(has a red 'x' against in in the GUI) then the check/repair\nprocess can be carried out on the disk that is being 'emulated' by\nUnraid prior to carrying out any rebuild process. It is always worth\ndoing the repair before any rebuild as if a disk is showing as\n",(0,i.jsx)(n.strong,{children:"unmountable"})," while being emulated then it will also show as\n",(0,i.jsx)(n.strong,{children:"unmountable"})," after the rebuild (as all the rebuild process does\nis make the physical disk match the emulated one). The process for\nrepairing a file system is much faster than the rebuild process so\nthere is not much point in wasting time on a rebuild if the repair\nis not going to work. Also if there are any problems running the\nrepair process on the emulated disk then the physical disk is still\nuntouched giving a fall back data recovery path."]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"IMPORTANT"}),": You do ",(0,i.jsx)(n.strong,{children:"not"})," want to format the drive in this case\nas this will write an empty file system to the drive update parity\naccordingly and you would therefore lose the contents of the drive."]}),"\n",(0,i.jsx)(n.p,{children:"It is worth noting that an Unmountable disk caused by file system\ncorruption is not something that can be repaired using the parity drive\nas it is basically not a result of a write to a disk failing but of\nincorrect data being written (apparently successfully) to the data drive\nand parity updated accordingly. Such corruption can be due to either a\nsoftware issue, or something like bad RAM corrupting the in-memory data\nbefore it is written."}),"\n",(0,i.jsx)(n.p,{children:"The file system has a level of redundancy in the control structures so\nit is normally possible to repair the damage that has been detected.\nTherefore when you have an unmountable disk caused by file system\ncorruption then you want to use the file system check/repair process\ndocumented below to get the disk back into a state where you can mount\nit again and see all its data."}),"\n",(0,i.jsx)(n.p,{children:"If you are at all unsure on the best way to proceed it is often a good\nidea to make a post in the forums and attach your system's diagnostics\nzip file (obtained via Tools \u2192 Diagnostics) so you can get feedback on\nyour issue."}),"\n",(0,i.jsx)(n.h2,{id:"checking-a-file-system",children:"Checking a File System"}),"\n",(0,i.jsxs)(n.p,{children:["If a disk that was previously mounting fine suddenly starts showing as\n",(0,i.jsx)(n.strong,{children:"unmountable"})," then this normally means that there is some sort of\ncorruption at the file system level. This most commonly occurs after an\nunclean shutdown but could happen any time a write to a drive fails or\nif the drive ends up being marked as ",(0,i.jsx)(n.strong,{children:"disabled"})," (i.e. with a\nred ',' in the Unraid GUI). If the drive is marked as disable and\nbeing emulated then the check is run against the emulated drive and not\nthe physical drive."]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"IMPORTANT:"})," At this point, the Unraid GUI will be offering an option\nto format unmountable drives. This will ",(0,i.jsx)(n.strong,{children:"erase"})," all content on the\ndrive and ",(0,i.jsx)(n.strong,{children:"update parity"})," to reflect this making recovering the data\nimpossible/very difficult so do ",(0,i.jsx)(n.strong,{children:"NOT"})," do this unless you are happy to\nlose the contents of the drive."]}),"\n",(0,i.jsx)(n.p,{children:"To recover from file system corruption then one needs to run the tool\nthat is appropriate to the file system on the disk. Points to note that\nusers new to Unraid often misunderstand are:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["Rebuilding a disk does ",(0,i.jsx)(n.strong,{children:"not"})," repair file system corruption"]}),"\n",(0,i.jsx)(n.li,{children:"If a disk is showing as being emulated then the file system check\nand/or repair are run against the emulated drive and not the\nphysical drive."}),"\n"]}),"\n",(0,i.jsx)(n.h3,{id:"preparing-to-test",children:"Preparing to test"}),"\n",(0,i.jsxs)(n.p,{children:["The first step is to identify the file system of the drive you wish to\ntest or repair. If you don't know for sure, then go to the Main page of\nthe WebGUI, and click on the name of the drive (Disk 3, Cache, etc).\nLook for ",(0,i.jsx)(n.strong,{children:"File system type"}),", and you will see the file system format\nfor your drive (should be ",(0,i.jsx)(n.strong,{children:"xfs"}),", ",(0,i.jsx)(n.strong,{children:"btrfs"})," or ",(0,i.jsx)(n.strong,{children:"reiserfs"}),")."]}),"\n",(0,i.jsxs)(n.p,{children:["If the file system is ",(0,i.jsx)(n.strong,{children:"XFS"})," or ",(0,i.jsx)(n.strong,{children:"ReiserFS"})," then you must start the\narray in ",(0,i.jsx)(n.em,{children:"Maintenance mode"}),", by clicking the Maintenance mode check box\nbefore clicking the Start button. This starts the Unraid driver but does\nnot mount any of the drives."]}),"\n",(0,i.jsxs)(n.p,{children:["If the file system is ",(0,i.jsx)(n.strong,{children:"BTRFS"}),", then frequently you want to run a\n",(0,i.jsx)(n.strong,{children:"scrub"})," rather than a repair as that both checks the BTRFS file system\nand can also fix many BTRFS errors. A scrub operation is run with the\narray started in Normal mode and NOT in ",(0,i.jsx)(n.em,{children:"Maintenance"})," mode. If you want\nto run a repair then you will need to start the array in ",(0,i.jsx)(n.em,{children:"Maintenance"}),"\nmode."]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Note:"})," Details will need to be added for ",(0,i.jsx)(n.strong,{children:"ZFS"})," file systems after\nUnraid 6.12 is release with ZFS support built in."]}),"\n",(0,i.jsx)(n.h3,{id:"running-the-test-using-the-webgui",children:"Running the Test using the WebGUI"}),"\n",(0,i.jsx)(n.p,{children:"The process for checking a file system using the Unraid GUI is as\nfollows:"}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsx)(n.li,{children:"Make sure that you have the array started in the correct mode. If\nnecessary stop the array and restart in the correct mode by\nclicking/unclicking the Maintenance Mode checkbox next to the Start\nbutton."}),"\n",(0,i.jsxs)(n.li,{children:["From the Main screen of the WebGUI, click the name of the disk that\nyou want to test or repair. For example, if the drive of concern is\nDisk 5, then click on ",(0,i.jsx)(n.strong,{children:"Disk 5"}),". If it's the Cache drive, then\nclick on ",(0,i.jsx)(n.strong,{children:"Cache"}),". If in Maintenance mode then The disks will not\nbe mounted but the underlying ",(0,i.jsx)(n.em,{children:"/dev/mdX"})," type devices that\ncorrespond to each ",(0,i.jsx)(n.em,{children:"diskX"})," in the Unraid GUI will have been created.\nThis is important as any write operation against one of these 'md'\ntype devices will also update parity to reflect that write has\nhappened."]}),"\n",(0,i.jsx)(n.li,{children:"You should see a page of options for that drive, beginning with\nvarious partition, file system format, and spin down settings."}),"\n",(0,i.jsxs)(n.li,{children:["The section following that is the one you want, titled ",(0,i.jsx)(n.strong,{children:"Check\nFilesystem Status"}),". There is a box with the 2 words ",(0,i.jsx)(n.em,{children:"Not available"}),"\nin it. This is the command output box, where the progress and\nresults of the command will be displayed. Below that is the\n",(0,i.jsx)(n.strong,{children:"Check"})," button that starts the test, followed by the options box\nwhere you can type in options for the test/repair command."]}),"\n",(0,i.jsxs)(n.li,{children:["The tool that will be run is shown and the status at this point will\nshow as ",(0,i.jsx)(n.em,{children:"Not available"}),". The ",(0,i.jsx)(n.em,{children:"Options"})," field may include a parameter\nthat causes the selected tool to run in ",(0,i.jsx)(n.em,{children:"check-only"})," mode so that\nthe underlying drive is not actually changed. For more help, click\nthe ",(0,i.jsx)(n.strong,{children:"Help"})," button in the upper right."]}),"\n",(0,i.jsx)(n.li,{children:"Click on the Check button to run the file system check"}),"\n",(0,i.jsxs)(n.li,{children:["Information on the check progress is now displayed. You may need to\nuse the ",(0,i.jsx)(n.em,{children:"Refresh"})," button to get it to update."]}),"\n",(0,i.jsxs)(n.li,{children:["If you are not sure what the results of the check mean you should\ncopy the progress information so you can ask a question in the\nforum. When including this information as part of a forum post\nmark them as ",(0,i.jsx)(n.em,{children:"code"})," (using the ",(0,i.jsx)(n.strong,{children:"<?>"})," icon) to preserve the\nformatting as otherwise it becomes difficult to read."]}),"\n"]}),"\n",(0,i.jsx)(n.h3,{id:"running-the-test-using-the-command-line",children:"Running the Test using the command line"}),"\n",(0,i.jsx)(n.h4,{id:"xfs-and-reiserfs",children:"XFS and ReiserFS"}),"\n",(0,i.jsx)(n.p,{children:"You can run the file system check from the command line for ReiserFS and\nXFSxfs as shown below if the array is started in Maintenance mode by\nusing a command of the form:"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.code,{children:"xfs_repair\xa0-v\xa0/dev/mdX"})}),"\n",(0,i.jsx)(n.p,{children:"or"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.code,{children:"reiserfsck\xa0-v\xa0/dev/mdX"})}),"\n",(0,i.jsx)(n.p,{children:"where X corresponds to the diskX number shown in the Unraid GUI. Using\nthe /dev/mdX type device will maintain parity. If the file system to be\nrepaired as an encrypted XFS one then the command needs to be modified\nto use the /dev/mapper/mdX device"}),"\n",(0,i.jsx)(n.p,{children:"If you ever need to run a check on a drive that is not part of the array\nor if the array is not started then you need to run the appropriate\ncommand from a console/terminal session. As an example for an XFS disk\nyou would use a command of the form:"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.code,{children:"xfs_repair\xa0-v\xa0/dev/sdX1"})}),"\n",(0,i.jsx)(n.p,{children:"where X corresponds to the device identifier shown in the Unraid GUI.\nPoints to note are:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"The value of X can change when Unraid is rebooted so make sure it is\ncorrect for the current boot"}),"\n",(0,i.jsx)(n.li,{children:"Note the presence of the '1' on the end to indicate the partition\nto be checked."}),"\n",(0,i.jsx)(n.li,{children:"The reason for not doing it this way on array drives is that\nalthough the disk would be repaired parity would be invalidated\nwhich can reduce the chances of recovering a failed drive until\nvalid parity has been re-established."}),"\n",(0,i.jsx)(n.li,{children:"if you run this form of the command on an array disk you will\ninvalidate parity so it is not recommended except in exceptional\ncircumstances."}),"\n"]}),"\n",(0,i.jsx)(n.h4,{id:"btrfs",children:"BTRFS"}),"\n",(0,i.jsxs)(n.p,{children:["A BTRFS file systems will automatically check the data as part of\nreading it so often there is no need to explicitly run a check. If you\ndo need to run a check you do it with the array started in ",(0,i.jsx)(n.em,{children:"Normal"})," mode\nusing the ",(0,i.jsx)(n.strong,{children:"scrub"})," command that is covered in more detail in the\n",(0,i.jsx)(n.a,{href:"/unraid-docs/es/unraid-os/manual/storage-management#scrub",children:"Scrub"})," section."]}),"\n",(0,i.jsx)(n.p,{children:"You can run the file system check from the command line for BTRFS as\nshown below if the array is started in Maintenance mode by using\ncommands of the form:"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.code,{children:"btrfs\xa0check\xa0--readonly\xa0/dev/mdX1"})}),"\n",(0,i.jsx)(n.p,{children:"where X corresponds to the diskX number shown in the Unraid GUI. Using\nthe /dev/mdX type device will maintain parity. If the file system to be\nrepaired is an encrypted XFS one then the command needs to be modified\nto use the /dev/mapper/mdX device."}),"\n",(0,i.jsx)(n.p,{children:"If you ever need to run a check on a drive that is not part of the\narray, if the array is not started, or the disk is part of a pool then\nyou need to run the appropriate command from a console/terminal session.\nAs an example you would use a command of the form:"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.code,{children:"btrfs\xa0check\xa0--readonly\xa0/dev/sdX1"})}),"\n",(0,i.jsx)(n.p,{children:"for pools which are outside the Unraid parity scheme"}),"\n",(0,i.jsx)(n.p,{children:"where X corresponds to the device identifier shown in the Unraid GUI.\nPoints to note are:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"The value of X can change when Unraid is rebooted so make sure it is\ncorrect for the current boot"}),"\n",(0,i.jsx)(n.li,{children:"Note the presence of the '1' on the end to indicate the partition\nto be checked."}),"\n",(0,i.jsx)(n.li,{children:"The reason for not doing it this way on array drives is that\nalthough the disk would be repaired parity would be invalidated\nwhich can reduce the chances of recovering a failed drive until\nvalid parity has been re-established."}),"\n",(0,i.jsx)(n.li,{children:"if you run this form of the command on an array disk you will\ninvalidate parity so it is not recommended except in exceptional\ncircumstances."}),"\n"]}),"\n",(0,i.jsx)(n.h4,{id:"zfs",children:"ZFS"}),"\n",(0,i.jsx)(n.p,{children:"This section should be completed once Unraid 6.12 has been\nreleased with ZFS support included as a standard feature."}),"\n",(0,i.jsx)(n.h2,{id:"repairing-a-file-system",children:"Repairing a File System"}),"\n",(0,i.jsx)(n.p,{children:"You typically run this just after running a check as outlined above, but\nif skipping that follow steps 1-4 to get to the point of being ready to\nrun the repair. It is a good idea to enable the Help built into the GUI\nto get more information on this process."}),"\n",(0,i.jsx)(n.p,{children:"If the drive is marked as disabled and being emulated then the repair is\nrun against the emulated drive and not the physical drive. It is\nfrequently done before attempting to rebuild a drive as it is the\ncontents of the emulated drive that is used by the rebuild process."}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsxs)(n.li,{children:["Remove any parameters from the ",(0,i.jsx)(n.em,{children:"Options"})," field that would cause the\ntool to run in ",(0,i.jsx)(n.em,{children:"check-only"})," mode."]}),"\n",(0,i.jsxs)(n.li,{children:["Add any additional parameters to the ",(0,i.jsx)(n.em,{children:"Options"})," field required that\nare suggested from the check phase. If not sure then ask in the\nforum.","\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"The Help built into the GUI can provide guidance on what options\nmight be applicable."}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["Press the Check button to start the repair process. You can now\nperiodically use the ",(0,i.jsx)(n.em,{children:"Refresh"})," button to update the progress\ninformation"]}),"\n",(0,i.jsxs)(n.li,{children:["If the repair does not complete for any reason then ask in the forum\nfor advice on how to best proceed if you are not sure.","\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["If repairing an XFS formatted drive then it is quite normal for\nthe ",(0,i.jsx)(n.em,{children:"xfs_repair"})," process to give you a warning saying you need\nto provide the ",(0,i.jsx)(n.strong,{children:(0,i.jsx)(n.em,{children:"-L"})})," option to proceed. Despite this ominous\nwarning message this is virtually always the right thing to do\nand does not result in data loss."]}),"\n",(0,i.jsxs)(n.li,{children:["When asking a question in the forum and when including the\noutput from the repair attempt as part of your post use\n",(0,i.jsx)(n.img,{alt:"Code",src:t(1397).Z+"",width:"16",height:"16"})," option to preserve the formatting\nas otherwise it becomes difficult to read"]}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(n.li,{children:"If the repair completes without error then stop the array and\nrestart in normal mode. The drive should now mount correctly."}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:["After running a repair you may well find that a ",(0,i.jsx)(n.strong,{children:"lost+found"})," folder is\ncreated on the drive with files/folders with cryptic names (this will\nthen show as a User Share of the same name). These are folders/files for\nwhich the repair process could not determine the name. If you have good\nbackups then it is often nor worth trying to sort out the contents of\nthe lost+found folder but instead restore from the backups. If you\nreally need to sort out the contents then the linux ",(0,i.jsx)(n.strong,{children:"file"})," command can\nbe used on a file to help determine what kind of data is in the file so\nyou can open it. If there are a lot of content in lost+found it may not\nbe worth the trouble unless it is important."]}),"\n",(0,i.jsx)(n.p,{children:"If at any point you do not understand what is happening then ask in the\nforum."}),"\n",(0,i.jsx)(n.h3,{id:"preparing-to-repair",children:"Preparing to repair"}),"\n",(0,i.jsxs)(n.p,{children:["If you are going to repair a ",(0,i.jsx)(n.strong,{children:"BTRFS"}),", ",(0,i.jsx)(n.strong,{children:"XFS"})," or ",(0,i.jsx)(n.strong,{children:"ReiserFS"})," file\nsystem then you always want the array to be started in Maintenace mode"]}),"\n",(0,i.jsx)(n.h3,{id:"running-the-repair-using-the-webgui",children:"Running the Repair using the WebGUI"}),"\n",(0,i.jsx)(n.h4,{id:"xfs-and-reiserfs-1",children:"XFS and ReiserFS"}),"\n",(0,i.jsx)(n.p,{children:"The process for repairing a file system using the Unraid GUI is as\nfollows:"}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsx)(n.li,{children:"Make sure that you have the array started in the correct mode. If\nnecessary stop the array and restart in the correct mode by\nclicking/unclicking the Maintenance Mode checkbox next to the Start\nbutton."}),"\n",(0,i.jsxs)(n.li,{children:["From the Main screen of the WebGUI, click the name of the disk that\nyou want to test or repair. For example, if the drive of concern is\nDisk 5, then click on ",(0,i.jsx)(n.strong,{children:"Disk 5"}),". If it's the Cache drive, then\nclick on ",(0,i.jsx)(n.strong,{children:"Cache"}),". If in Maintenance mode then The disks will not\nbe mounted but the underlying ",(0,i.jsx)(n.em,{children:"/dev/mdX"})," type devices that\ncorrespond to each ",(0,i.jsx)(n.em,{children:"diskX"})," in the unRaid GUI will have been created.\nThis is important as any write operation against one of these 'md'\ntype devices will also update parity to reflect that write has\nhappened."]}),"\n",(0,i.jsx)(n.li,{children:"You should see a page of options for that drive, beginning with\nvarious partition, file system format, and spin down settings."}),"\n",(0,i.jsxs)(n.li,{children:["The section following that is the one you want, titled ",(0,i.jsx)(n.strong,{children:"Check\nFilesystem Status"}),". There is a box with the 2 words ",(0,i.jsx)(n.em,{children:"Not available"}),"\nin it. This is the command output box, where the progress and\nresults of the command will be displayed. Below that is the\n",(0,i.jsx)(n.strong,{children:"Check"})," button that starts the repair"]}),"\n",(0,i.jsxs)(n.li,{children:["This is followed by the options box where you can type in options.\nTo run a repair you need to remove the ",(0,i.jsx)(n.strong,{children:"-n"})," option. If repairing a\nXFS system you often get prompted to also use the ",(0,i.jsx)(n.strong,{children:"-L"})," option and\nif that happens you rerun the repair adding that option here."]}),"\n",(0,i.jsxs)(n.li,{children:["The tool that will be run is shown and the status at this point will\nshow as ",(0,i.jsx)(n.em,{children:"Not available"}),". The ",(0,i.jsx)(n.em,{children:"Options"})," field may include a parameter\nthat causes the selected tool to run in ",(0,i.jsx)(n.em,{children:"check-only"})," mode so that\nthe underlying drive is not actually changed. For more help, click\nthe ",(0,i.jsx)(n.strong,{children:"Help"})," button in the upper right."]}),"\n",(0,i.jsx)(n.li,{children:"Click on the Check button to run the file system check"}),"\n",(0,i.jsxs)(n.li,{children:["Information on the check progress is now displayed. You may need to\nuse the ",(0,i.jsx)(n.em,{children:"Refresh"})," button to get it to update."]}),"\n",(0,i.jsxs)(n.li,{children:["If you are not sure what the results of the check means you should\ncopy the progress information so you can ask a question in the\nforum. When including this information as part of a forum post\nmark them as ",(0,i.jsx)(n.em,{children:"code"})," (using the ",(0,i.jsx)(n.strong,{children:"<?>"})," icon) to preserve the\nformatting as otherwise it becomes difficult to read."]}),"\n"]}),"\n",(0,i.jsx)(n.h4,{id:"btrfs-1",children:"BTRFS"}),"\n",(0,i.jsx)(n.p,{children:"A lot of the time running the Scrub operation will be able to detect\n(and correct if you have a redundant pool) many errors."}),"\n",(0,i.jsxs)(n.p,{children:["In the event that you need more than this you need the array to be\nstarted in Maintenance mode and then the ",(0,i.jsx)(n.strong,{children:"Check"})," option can be used to\nrun the ",(0,i.jsx)(n.em,{children:"btrfs check"})," program to check file system integrity on the\ndevice."]}),"\n",(0,i.jsxs)(n.p,{children:["The ",(0,i.jsx)(n.em,{children:"Options"})," field is initialized with ",(0,i.jsx)(n.em,{children:"--readonly"})," which specifies\ncheck-only. If repair is needed, you should run a second Check pass,\nsetting the ",(0,i.jsx)(n.em,{children:"Options"})," to ",(0,i.jsx)(n.em,{children:"--repair"}),"; this will permit ",(0,i.jsx)(n.em,{children:"btrfs check"})," to\nfix the file system."]}),"\n",(0,i.jsxs)(n.p,{children:["The BTRFS documentation suggests that its ",(0,i.jsx)(n.code,{children:"--repair"}),' option be used only\nif you have been advised by "a developer or an experienced user". As\nof August 2022, the SLE documentation recommends using a Live CD,\nperforming a backup and only using the repair option as a last resort.']}),"\n",(0,i.jsxs)(n.p,{children:["After starting a Check, you should Refresh to monitor progress and\nstatus. Depending on how large the file system is, and what errors might\nbe present, the operation can take ",(0,i.jsx)(n.strong,{children:"a long time"})," to finish (hours).\nNot much info is printed in the window, but you can verify the operation\nis running by observing the read/write counters increasing for the\ndevice on the Main page"]}),"\n",(0,i.jsxs)(n.p,{children:["There is another tool, named ",(0,i.jsx)(n.code,{children:"btrfs-restore"}),", that can be used to\nrecover files from an unmountable filesystem, without modifying the\nbroken filesystem itself (i.e., non-destructively) but that is not\nsupported by the Unraid GUI."]}),"\n",(0,i.jsx)(n.h3,{id:"running-the-repair-using-the-command-line",children:"Running the Repair using the command line"}),"\n",(0,i.jsx)(n.h4,{id:"xfs-and-reiserfs-2",children:"XFS and ReiserFS"}),"\n",(0,i.jsx)(n.p,{children:"You can run the file system check from the command line for ReiserFS and\nXFS as shown below if the array is started in Maintenance mode by\nusing a command of the form:"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.code,{children:"xfs_repair\xa0/dev/mdX"})}),"\n",(0,i.jsx)(n.p,{children:"or"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.code,{children:"reiserfsck\xa0/dev/mdX"})}),"\n",(0,i.jsx)(n.p,{children:"where X corresponds to the diskX number shown in the Unraid GUI. Using\nthe /dev/mdX type device will maintain parity. If the file system to be\nrepaired is an encrypted XFS one then the command needs to be modified\nto use the /dev/mapper/mdX device"}),"\n",(0,i.jsx)(n.p,{children:"If you ever need to run a check on a drive that is not part of the array\nor if the array is not started then you need to run the appropriate\ncommand from a console/terminal session. As an example for an XFS disk\nyou would use a command of the form:"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.code,{children:"xfs_repair\xa0/dev/sdX1"})}),"\n",(0,i.jsx)(n.p,{children:"where X corresponds to the device identifier shown in the Unraid GUI.\nPoints to note are:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"The value of X can change when Unraid is rebooted so make sure it is\ncorrect for the current boot"}),"\n",(0,i.jsx)(n.li,{children:"Note the presence of the '1' on the end to indicate the partition\nto be checked."}),"\n",(0,i.jsx)(n.li,{children:"The reason for not doing it this way on array drives is that\nalthough the disk would be repaired parity would be invalidated\nwhich can reduce the chances of recovering a failed drive until\nvalid parity has been re-established."}),"\n",(0,i.jsx)(n.li,{children:"if you run this form of the command on an array disk you will\ninvalidate parity so it is not recommended except in exceptional\ncircumstances."}),"\n"]}),"\n",(0,i.jsx)(n.h4,{id:"btrfs-2",children:"BTRFS"}),"\n",(0,i.jsx)(n.p,{children:"You can run the file system check from the command line for BTRFS as\nshown below if the array is started in Maintenance mode by using a\ncommand of the form:"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.code,{children:"btrfs\xa0check\xa0--readonly\xa0/dev/sdX1"})}),"\n",(0,i.jsx)(n.p,{children:"where X corresponds to the device identifier shown in the Unraid GUI.\nPoints to note are:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"The value of X can change when Unraid is rebooted so make sure it is\ncorrect for the current boot"}),"\n",(0,i.jsx)(n.li,{children:"Note the presence of the '1' on the end to indicate the partition\nto be checked."}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"In the event that you want to continue to try and actually repair the\nsystem you can run"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.code,{children:"btrfs\xa0check\xa0--repair\xa0/dev/sdX1"})}),"\n",(0,i.jsxs)(n.p,{children:["but you are advised to only do this after getting advice in the forum as\nsometimes the ",(0,i.jsx)(n.em,{children:"--repair"})," option can damage a BTRFS system even further."]}),"\n",(0,i.jsx)(n.h4,{id:"zfs-1",children:"ZFS"}),"\n",(0,i.jsx)(n.p,{children:"This section should be completed once Unraid 6.12 has been released with\nZFS support included as a standard feature."}),"\n",(0,i.jsx)(n.h2,{id:"changing-a-file-system-type",children:"Changing a File System type"}),"\n",(0,i.jsx)(n.p,{children:"There may be times when you wish to change the file system type on a\nparticular drive. The steps are outlined below."}),"\n",(0,i.jsxs)(n.p,{children:["IMPORTANT: These steps will ",(0,i.jsx)(n.strong,{children:"erase any existing content"})," on the drive\nso make sure you have first copied it elsewhere before attempting to\nchange the file system type if you do not want to lose it."]}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsx)(n.li,{children:"Stop the array"}),"\n",(0,i.jsx)(n.li,{children:"Click on the drive whose format you want to change"}),"\n",(0,i.jsx)(n.li,{children:"Change the format to the new one you want to use. Repeat if\nnecessary for each drive to be changed"}),"\n",(0,i.jsx)(n.li,{children:"Start the array"}),"\n",(0,i.jsx)(n.li,{children:"There will now be an option on the main tab to format unmountable\ndrives and showing what drives these will be. Check that only the\ndrive(s) you expect show."}),"\n",(0,i.jsx)(n.li,{children:"Check the box to confirm the format and then press the Format\nbutton."}),"\n",(0,i.jsx)(n.li,{children:"The format will now start. It typically only takes a few minutes.\nThere have been occasions where the status does not update but\nrefreshing the Main tab normally fixes this."}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"If anything appears to go wrong then ask in the forum to add your system\ndiagnostics zip file (obtained via Tools \u2192 Diagnostics) to your post."}),"\n",(0,i.jsx)(n.p,{children:"Notes:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:"For SSDs you can erase the current contents using"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.code,{children:"blkdiscard\xa0/dev/sdX"})}),"\n",(0,i.jsx)(n.p,{children:"at the console where 'X' corresponds to what is currently shown in\nthe Unraid GUI for the device. Be careful that you get it right as\nyou do not want to accidentally erase the contents of the wrong\ndrive."}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"converting-to-a-new-file-system-type",children:"Converting to a new File System type"}),"\n",(0,i.jsx)(n.p,{children:"There is the special case of changing a file system where you want to\nkeep the contents of the drive. The commonest reason for doing this is\nthose users who ran an older version of Unraid where the only supported\nfile system type was reiserFS (which is now deprecated) and they want to\nswitch the drive to using either XFS or BTRFS file system instead.\nHowever, there may be users who want to convert between file system\ntypes for other reasons."}),"\n",(0,i.jsx)(n.p,{children:"In simplistic terms the process is:"}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsxs)(n.li,{children:["Copy the data off the drive in question to another location. This\ncan be elsewhere on the array or anywhere else suitable.","\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"You do have to have enough free space to temporarily hold this\ndata"}),"\n",(0,i.jsx)(n.li,{children:"Many users do such a conversion just after adding a new drive to\nthe array as this gives them the free space required."}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(n.li,{children:"Follow the procedure above for changing the file system type of the\ndrive. This will leave you with an empty drive that is now in the\ncorrect format but that has no files on it."}),"\n",(0,i.jsx)(n.li,{children:"Copy the files you saved in step 1 back to this drive"}),"\n",(0,i.jsx)(n.li,{children:"If you have multiple drives that need to be converted then do them\none at a time."}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:["This is a time-consuming process as you are copying large amounts of\ndata. However, most of this is ",(0,i.jsx)(n.em,{children:"computer time"})," as the user does not need\nto be continually present closely watching the actual copying steps."]}),"\n",(0,i.jsx)(n.h2,{id:"reformatting-a-drive",children:"Reformatting a drive"}),"\n",(0,i.jsx)(n.p,{children:"If by any chance you want to reformat a drive to erase its contents\nkeeping the existing file system type then many users find that it may\nnot be obvious how to do this from the Unraid GUI."}),"\n",(0,i.jsxs)(n.p,{children:["The way to do this is to follow the above process for ",(0,i.jsx)(n.a,{href:"#changing-a-file-system-type",children:"changing the file\nsystem type"}),"\ntwice. The first time you change it to any other type, and then once it\nhas been formatted to the new type repeat the process this time setting\nthe type back to the one you started with."]}),"\n",(0,i.jsx)(n.p,{children:"This process will only take a few minutes, and as you go parity is\nupdated accordingly."}),"\n",(0,i.jsx)(n.h2,{id:"reformatting-a-cache-drive",children:"Reformatting a cache drive"}),"\n",(0,i.jsx)(n.p,{children:"There may be times when you want to change the format used on the cache\ndrive (or some similar operation) and preserve as much of its existing\ncontents as possible. In such cases the recommended way to proceed that\nis least likely to go wrong is:"}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsx)(n.li,{children:"Stop array."}),"\n",(0,i.jsx)(n.li,{children:"Disable docker and VM services under Settings"}),"\n",(0,i.jsx)(n.li,{children:"Start array. If you have correctly disabled these services there\nwill be NO Docker or VMstab in the GUI."}),"\n",(0,i.jsxs)(n.li,{children:["Set all shares that have files on the cache and currently don't\nhave a Use Cache",":Yes"," to BE Cache",":Yes",". Make a note of which shares\nyou changed and what setting they had before the change"]}),"\n",(0,i.jsx)(n.li,{children:"Run mover from the Main tab; wait for completion (which can take\nsome time to complete if there are a lot of files); check cache\ndrive contents, should be empty. If it's not, STOP, post\ndiagnostics, and ask for help."}),"\n",(0,i.jsx)(n.li,{children:"Stop array."}),"\n",(0,i.jsx)(n.li,{children:"Set cache drive desired format to XFS or BTRFS, if you only have a\nsingle cache disk and are keeping that configuration, then XFS is\nthe recommended format. XFS is only available as a selection if\nthere is only 1 (one) cache slot shown while the array is stopped."}),"\n",(0,i.jsx)(n.li,{children:"Start array."}),"\n",(0,i.jsx)(n.li,{children:"Verify that the cache drive and ONLY the cache drive shows\nunformatted. Select the checkbox saying you are sure, and format the\ndrive."}),"\n",(0,i.jsx)(n.li,{children:"Set any shares that you changed to be Cache: Yes earlier to Cache:\nPrefer if they were originally Cache: Only or Cache: Prefer. If any\nwere Cache: No, set them back that way."}),"\n",(0,i.jsx)(n.li,{children:"Run mover from the Main tab; wait for completion; check cache drive\ncontents which should be back the way it was."}),"\n",(0,i.jsxs)(n.li,{children:["Change any share that was set to Use Cache",":Only"," back to that option"]}),"\n",(0,i.jsx)(n.li,{children:"Stop array."}),"\n",(0,i.jsx)(n.li,{children:"Enable docker and VM services."}),"\n",(0,i.jsx)(n.li,{children:"Start array"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"There are other alternative procedures that might be faster if you are\nLinux aware, but the one shown above is the one that has proved most\nlikely to succeed without error for the average Unraid user."}),"\n",(0,i.jsx)(n.h2,{id:"btrfs-operations",children:"BTRFS Operations"}),"\n",(0,i.jsxs)(n.p,{children:["If you want more information BTRFS then the\n",(0,i.jsx)(n.a,{href:"https://en.wikipedia.org/wiki/Btrfs",children:"Wikipedia BTRFS article"})," is a\ngood place to start"]}),"\n",(0,i.jsx)(n.p,{children:"There are a number of operations that are specific to BTRFS formatted\ndrives that do not have a direct equivalent in the other formats."}),"\n",(0,i.jsx)(n.h3,{id:"balance",children:"Balance"}),"\n",(0,i.jsx)(n.p,{children:"Unlike most conventional filesystems, BTRFS uses a two-stage allocator.\nThe first stage allocates large regions of space known as chunks for\nspecific types of data, then the second stage allocates blocks like a\nregular filesystem within these larger regions. There are three\ndifferent types of chunks:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Data Chunks: These store regular file data."}),"\n",(0,i.jsx)(n.li,{children:"Metadata Chunks: These store metadata about files, including among\nother things timestamps, checksums, file names, ownership,\npermissions, and extended attributes."}),"\n",(0,i.jsx)(n.li,{children:"System Chunks: These are a special type of chunk which stores data\nabout where all the other chunks are located."}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"Only the type of data that the chunk is allocated for can be stored in\nthat chunk. The most common case these days when you get a -ENOSPC error\non BTRFS is that the filesystem has run out of room for data or metadata\nin existing chunks, and can't allocate a new chunk. You can verify that\nthis is the case by running btrfs fi df on the filesystem that threw the\nerror. If the Data or Metadata line shows a Total value that is\nsignificantly different from the Used value, then this is probably the\ncause."}),"\n",(0,i.jsx)(n.p,{children:"What btrfs balance does is to send things back through the allocator,\nwhich results in space usage in the chunks being compacted. For example,\nif you have two metadata chunks that are both 40% full, a balance will\nresult in them becoming one metadata chunk that's 80% full. By\ncompacting space usage like this, the balance operation is then able to\ndelete the now-empty chunks and thus frees up room for the allocation of\nnew chunks. If you again run btrfs fi df after you run the balance, you\nshould see that the Total and Used values are much closer to each other,\nsince balance deleted chunks that weren't needed anymore."}),"\n",(0,i.jsx)(n.p,{children:"The BTRFS balance operation can be run from the Unraid GUI by clicking\non the drive on the Main tab and running scrub from the resulting\ndialog. The current status information for the volume is displayed. You\ncan optionally add parameters to be passed to the balance operation and\nthen start the scrub by pressing the Balance button."}),"\n",(0,i.jsx)(n.h3,{id:"scrub",children:"Scrub"}),"\n",(0,i.jsxs)(n.p,{children:["Scrubbing involves reading all the data from all the disks and verifying\nchecksums. If any values are not correct and you have a redundant BTRFS\npool then the data can be corrected by reading a good copy of the block\nfrom another drive. The scrubbing code also scans on read automatically.\nIt is recommended that you scrub high-usage file systems ",(0,i.jsx)(n.strong,{children:"once a week"}),"\nand all other file systems ",(0,i.jsx)(n.strong,{children:"once a month"}),"."]}),"\n",(0,i.jsx)(n.p,{children:"You can initiate a check of the entire file system by triggering a file\nsystem scrub job. The scrub job scans the entire file system for\nintegrity. It automatically attempts to report and repair any bad blocks\nthat it finds along the way. Instead of going through the entire disk\ndrive, the scrub job deals only with data that is actually allocated.\nDepending on the allocated disk space, this is much faster than\nperforming an entire surface scan of the disk."}),"\n",(0,i.jsx)(n.p,{children:"The BTRFS scrub operation can be run from the Unraid GUI by clicking on\nthe drive on the Main tab and running scrub from the resulting dialog."}),"\n",(0,i.jsx)(n.h1,{id:"unassigned-drives",children:"Unassigned Drives"}),"\n",(0,i.jsx)(n.p,{children:"Unassigned drives are drives that are present in the server running\nUnraid that have not been added to the array or to a cache pool."}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.em,{children:"It is important to note that all such drives that are plugged into the\nserver at the point you start the array count towards the Unraid\nAttached Devices license limits."})}),"\n",(0,i.jsx)(n.p,{children:"Typical uses for such drives are:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Plugging in removable drives for the purposes of transferring files\nor backing up drives."}),"\n",(0,i.jsx)(n.li,{children:"Having drives dedicated to specific use (such as running VMs) where\nyou want higher performance than can be achieved by using array\ndrives."}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:["It is strongly recommended that you install the Unassigned Devices (UD)\nplugins via the ",(0,i.jsx)(n.strong,{children:"Apps"})," tab if you want to use Unassigned Drives on\nyour system. There are 2 plugins available:"]}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsxs)(n.li,{children:["The basic ",(0,i.jsx)(n.strong,{children:"Unassigned Devices"})," plugin provides support for file\nsystem types supported as standard in Unraid."]}),"\n",(0,i.jsxs)(n.li,{children:["The ",(0,i.jsx)(n.strong,{children:"Unassigned Devices Plus"})," plugin extends the file system\nsupport to include options such as ExFat ant HFS+."]}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:["You should look at the Unassigned Devices support\n",(0,i.jsx)(n.a,{href:"https://forums.unraid.net/topic/92462-unassigned-devices-managing-disk-drives-and-remote-shares-outside-of-the-unraid-array/",children:"thread"}),"\nfor these plugins to get more information about the very\nextensive facilities offered and guidance on how to use them."]}),"\n",(0,i.jsx)(n.h1,{id:"performance",children:"Performance"}),"\n",(0,i.jsx)(n.h2,{id:"array-write-modes",children:"Array Write Modes"}),"\n",(0,i.jsx)(n.p,{children:"Unraid maintains real-time parity and the performance of writing to the\nparity protected array in Unraid is strongly affected by the method that\nis used to update parity."}),"\n",(0,i.jsx)(n.p,{children:"There are fundamentally 2 methods supported:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Read/Modify/Write"}),"\n",(0,i.jsxs)(n.li,{children:["Turbo Mode (also known as ",(0,i.jsx)(n.em,{children:"reconstruct write"}),")"]}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"These are discussed in more detail below to help users decide which\nmodes are appropriate to how they currently want their array to operate."}),"\n",(0,i.jsx)(n.h3,{id:"setting-the-write-mode",children:"Setting the Write mode"}),"\n",(0,i.jsxs)(n.p,{children:["The write mode is set by going ",(0,i.jsx)(n.em,{children:"Settings \u2192 Disk Settings"}),", and look for\nthe ",(0,i.jsx)(n.strong,{children:"Tunable (md_write_method"}),") setting. The 3 options are:"]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Auto"}),": Currently this operates just like setting the\nread/modify/write option but is reserved for future enhancement"]}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.strong,{children:"read/modify/write"})}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"reconstruct write"})," (a.k.a.Turbo write)"]}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"To change it, click on the option you want, then the Apply button. The\neffect should be immediate so you can change it at any time"}),"\n",(0,i.jsx)(n.p,{children:"The different modes and their implications are discussed in more detail\nbelow"}),"\n",(0,i.jsx)(n.h3,{id:"readmodifywrite-mode",children:"Read/Modify/Write mode"}),"\n",(0,i.jsx)(n.p,{children:'Historically, Unraid has used the "read/modify/write" method to update\nparity and to keep parity correct for all data drives.'}),"\n",(0,i.jsx)(n.p,{children:"Say you have a block of data to write to a drive in your array, and\nnaturally you want parity to be updated too. In order to know how to\nupdate parity for that block, you have to know what is the difference\nbetween this new block of data and the existing block of data currently\non the drive. So you start by reading in the existing block and\ncomparing it with the new block. That allows you to figure out what is\ndifferent, so now you know what changes you need to make to the parity\nblock, but first, you need to read in the existing parity block. So you\napply the changes you figured out to the parity block, resulting in a\nnew parity block to be written out. Now you want to write out the new\ndata block, and the parity block, but the drive head is just past the\nend of the blocks because you just read them. So you have to wait a long\ntime (in computer time) for the disk platters to rotate all the way back\naround until they are positioned to write to that same block. That\nplatter rotation time is the part that makes this method take so long.\nIt's the main reason why parity writes are so much slower than regular\nwrites."}),"\n",(0,i.jsx)(n.p,{children:'To summarize, for the "read/modify/write" method, you need to:'}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"read in the parity block and read in the existing data block (can be\ndone simultaneously)"}),"\n",(0,i.jsx)(n.li,{children:"compare the data blocks, then use the difference to change the\nparity block to produce a new parity block (very short)"}),"\n",(0,i.jsx)(n.li,{children:"wait for platter rotation (very long!)"}),"\n",(0,i.jsx)(n.li,{children:"write out the parity block and write out the data block (can be done\nsimultaneously)"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"That's 2 reads, a calc, a long wait, and 2 writes."}),"\n",(0,i.jsx)(n.p,{children:"The advantages of this approach are:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Only the parity drive(s) and the drive being updated need to be spun\nup."}),"\n",(0,i.jsx)(n.li,{children:"Minimises power usage as array drives can be kept spun down when not\nbeing accessed"}),"\n",(0,i.jsx)(n.li,{children:"Does not require all the other array drives to be working perfectly"}),"\n"]}),"\n",(0,i.jsx)(n.h3,{id:"turbo-write-mode",children:"Turbo write mode"}),"\n",(0,i.jsx)(n.p,{children:'More recently Unraid introduced the Turbo write mode (often called\n"reconstruct write")'}),"\n",(0,i.jsxs)(n.p,{children:["We start with that same block of new data to be saved, but this time we\ndon't care about the existing data or the existing parity block. So we\ncan immediately write out the data block, but how do we know what the\nparity block should be? We issue a read of the same block on all of the\n",(0,i.jsx)(n.em,{children:"other"})," data drives, and once we have them, we combine all of them\nplus our new data block to give us the new parity block, which we then\nwrite out! Done!"]}),"\n",(0,i.jsx)(n.p,{children:'To summarize, for the "reconstruct write" method, you need to:'}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"write out the data block while simultaneously reading in the data\nblocks of all other data drives"}),"\n",(0,i.jsx)(n.li,{children:"calculate the new parity block from all of the data blocks,\nincluding the new one (very short)"}),"\n",(0,i.jsx)(n.li,{children:"write out the parity block"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"That's a write and a bunch of simultaneous reads, a calc, and a write,\nbut no platter rotation wait! The upside is it can be much faster."}),"\n",(0,i.jsx)(n.p,{children:"The downside is:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"ALL of the array drives must be spinning, because they ALL are\ninvolved in EVERY write."}),"\n",(0,i.jsx)(n.li,{children:"Increased power draw due to the need to keep all drives spinning"}),"\n",(0,i.jsx)(n.li,{children:"All drives must be reading without error."}),"\n"]}),"\n",(0,i.jsx)(n.h3,{id:"ramifications",children:"Ramifications"}),"\n",(0,i.jsx)(n.p,{children:"So what are the ramifications of this?"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"For some operations, like parity checks and parity builds and drive\nrebuilds, it doesn't matter, because all of the drives are spinning\nanyway."}),"\n",(0,i.jsx)(n.li,{children:"For large write operations, like large transfers to the array, it\ncan make a big difference in speed!"}),"\n",(0,i.jsx)(n.li,{children:"For a small write, especially at an odd time when the drives are\nnormally sleeping, all of the drives have to be spun up before the\nsmall write can proceed."}),"\n",(0,i.jsx)(n.li,{children:"And what about those little writes that go on in the background,\nlike file system housekeeping operations? EVERY write at any time\nforces EVERY array drive to spin up. So you are likely to be\nsurprised at odd times when checking on your array, and expecting\nall of your drives to be spun down, and finding every one of them\nspun up, for no discernible reason."}),"\n",(0,i.jsx)(n.li,{children:"So one of the questions to be faced is, how do you want your various\nwrite operations to be handled. Take a small scheduled backup of\nyour phone at 4 in the morning. The backup tool determines there's\na new picture to back up, so tries to write it to your Unraid\nserver. If you are using the old method, the data drive and the\nparity drive have to spin up, then this small amount of data is\nwritten, possibly taking a couple more seconds than Turbo write\nwould take. It's 4am, do you care? If you were using Turbo write,\nthen all of the drives will spin up, which probably takes somewhat\nlonger spinning them up than any time saved by using Turbo write to\nsave that picture (but a couple of seconds faster in the save).\nPlus, all of the drives are now spinning, uselessly."}),"\n",(0,i.jsx)(n.li,{children:"Another possible problem if you were in Turbo mode, and you are\nwatching a movie streaming to your player, then a write kicks into\nthe server and starts spinning up ALL of the drives, causing that\nwell-known pause and stuttering in your movie. Who wants to deal\nwith the whining that starts then?"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"Currently, you only have the option to use the old method or the new\n(currently the Auto option means the old method). The plan is to add the\ntrue Auto option that will use the old method by default, *unless* all\nof the drives are currently spinning. If the drives are all spinning,\nthen it slips into Turbo. This should be enough for many users. It would\nnormally use the old method, but if you planned a large transfer or a\nbunch of writes, then you would spin up all of the drives - and enjoy\nfaster writing."}),"\n",(0,i.jsx)(n.p,{children:"The auto method has the potential of the system automatically\nswitching modes depending on current array activity but this has not\nhappened so far. The problem is knowing when a drive is spinning, and\nbeing able to detect it without noticeably affecting write performance,\nruining the very benefits we were trying to achieve. If on every write\nyou have to query each drive for its status, then you will noticeably\nimpact I/O performance. So to maintain good performance, you need\nanother function working in the background keeping near-instantaneous\ntrack of spin status, and providing a single flag for the writer to\ncheck, whether they are all spun up or not, to know which method to use."}),"\n",(0,i.jsx)(n.p,{children:'Many users would like tighter and smarter control of which write mode is\nin use. There is currently no official way of doing this but you could\ntry searching for "Turbo Write" on the Apps tab for unofficial ways to\nget better control.'}),"\n",(0,i.jsx)(n.h3,{id:"using-a-cache-drive",children:"Using a Cache Drive"}),"\n",(0,i.jsxs)(n.p,{children:["It is possible to use a Cache Drive/Pool to improve the ",(0,i.jsx)(n.strong,{children:"perceived"}),"\nspeed of writing to the array. This can be done on a share-by-share\nbasis using the Use Cache setting available for each share by clicking\non the share name on the Shares tab in the GUI. It is important to\nrealize that using the cache has not really sped up writing files to the\narray - it is just that such writes now occur when the user is not\nwatching them"]}),"\n",(0,i.jsx)(n.p,{children:"Points to note are:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["The ",(0,i.jsx)(n.strong,{children:"Yes"})," setting for ",(0,i.jsx)(n.em,{children:"Use Cache"})," causes new files for the share\nto initially be written to the cache and later moved to the parity\nprotected array when ",(0,i.jsx)(n.em,{children:"mover"})," runs."]}),"\n",(0,i.jsx)(n.li,{children:"Writes to the cache run at the full speed the cache is capable of."}),"\n",(0,i.jsx)(n.li,{children:"It is not uncommon to use SSDs in the cache to get maximum\nperformance."}),"\n",(0,i.jsx)(n.li,{children:"Moves from cache to array are still comparatively slow but since\nmover is normally scheduled to run when the system is otherwise idle\nthis is not visible to the end-user."}),"\n",(0,i.jsxs)(n.li,{children:["There is a ",(0,i.jsx)(n.strong,{children:"Minimum Free Space"})," setting under ",(0,i.jsx)(n.em,{children:"Settings \u2192 Global\nShare settings"})," and if the free space on the cache falls below this\nvalue Unraid will stop trying to write new files to the cache. Since\nwhen Unraid first creates a file it does not know the final size it\nis recommended that the value for this setting should be as large\n(or larger) as the biggest file you expect to write to the share as\nyou want to stop Unraid selecting the cache for a file that will not\nfit in the space available. This will stop the write failing with an\n'out of space' error when the free space gets exhausted."]}),"\n",(0,i.jsx)(n.li,{children:"If there is not sufficient free space on the cache then writes will\nstart by-passing the cache and revert to the speeds that would be\nobtained when not using the cache."}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"read-modes",children:"Read Modes"}),"\n",(0,i.jsx)(n.p,{children:"Normally read performance is determined by the maximum speed that a file\ncan be read off a drive. Unlike some other forms of RAID an Unraid\nsystem does not utilize striping techniques to improve performance as\nevery file is constrained to a single drive."}),"\n",(0,i.jsx)(n.p,{children:"If a disk is marked as disabled and being emulated then Unraid needs to\nreconstruct its contents on the fly by reading the appropriate sectors\nof all the good drives and the parity drive(s). In such a case the read\nperformance is going to be determined primarily by the slowest drives in\nthe system."}),"\n",(0,i.jsx)(n.p,{children:"It is also worth emphasizing that if there is any array operation going\non such as a parity check or a disk rebuild then read performance will\nbe degraded significantly due to drive head movements caused by disk\ncontention between the two operations."}),"\n",(0,i.jsx)(n.h2,{id:"cache-pools",children:"(Cache) Pools"}),"\n",(0,i.jsx)(n.p,{children:"Unraid supports the use of (cache pools) that are separate from the main\narray and work differently from a performance perspective and these\nshould be considered when performance is a prime criteria. If a pool\nconsists of multiple drives then Unraid mandates that is is formatted\nusing the BTRFS file system."}),"\n",(0,i.jsx)(n.p,{children:"BTRFS supports a variety of RAID profiles and these will perform more\nlike a traditional RAID system giving much higher throughput than the\nmain Unraid array."}),"\n",(0,i.jsx)(n.p,{children:"Recovery after drive failure tends to be harder and more prone to lead\nto data loss which is one disadvantage of using pools for everything."})]})}function c(e={}){const{wrapper:n}={...(0,s.a)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(d,{...e})}):d(e)}},7791:(e,n,t)=>{t.d(n,{Z:()=>i});const i=t.p+"assets/images/Btrfs-raid1-0f8821a1511642aa3fe12e6e60be1ae3.jpg"},5995:(e,n,t)=>{t.d(n,{Z:()=>i});const i="data:image/png;base64,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"},1397:(e,n,t)=>{t.d(n,{Z:()=>i});const i="data:image/jpeg;base64,/9j/4AAQSkZJRgABAQEAYABgAAD/4QAiRXhpZgAATU0AKgAAAAgAAQESAAMAAAABAAEAAAAAAAD/2wBDAAIBAQIBAQICAgICAgICAwUDAwMDAwYEBAMFBwYHBwcGBwcICQsJCAgKCAcHCg0KCgsMDAwMBwkODw0MDgsMDAz/2wBDAQICAgMDAwYDAwYMCAcIDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAz/wAARCAAQABADASIAAhEBAxEB/8QAHwAAAQUBAQEBAQEAAAAAAAAAAAECAwQFBgcICQoL/8QAtRAAAgEDAwIEAwUFBAQAAAF9AQIDAAQRBRIhMUEGE1FhByJxFDKBkaEII0KxwRVS0fAkM2JyggkKFhcYGRolJicoKSo0NTY3ODk6Q0RFRkdISUpTVFVWV1hZWmNkZWZnaGlqc3R1dnd4eXqDhIWGh4iJipKTlJWWl5iZmqKjpKWmp6ipqrKztLW2t7i5usLDxMXGx8jJytLT1NXW19jZ2uHi4+Tl5ufo6erx8vP09fb3+Pn6/8QAHwEAAwEBAQEBAQEBAQAAAAAAAAECAwQFBgcICQoL/8QAtREAAgECBAQDBAcFBAQAAQJ3AAECAxEEBSExBhJBUQdhcRMiMoEIFEKRobHBCSMzUvAVYnLRChYkNOEl8RcYGRomJygpKjU2Nzg5OkNERUZHSElKU1RVVldYWVpjZGVmZ2hpanN0dXZ3eHl6goOEhYaHiImKkpOUlZaXmJmaoqOkpaanqKmqsrO0tba3uLm6wsPExcbHyMnK0tPU1dbX2Nna4uPk5ebn6Onq8vP09fb3+Pn6/9oADAMBAAIRAxEAPwD9evgP+2t/w0h8UfGF74Z0e0PwN8E29xZS/EK8v/Jt/EOrwShbmLTYtm2awtFjmSa+Z1jaceXEJBFM6+O/s+f8FEvHPgX4L/B7x78bdFt7f4a/GqyOrR+NbeVEj8DXWqahPcaPpeq26RqsFobC5sLSO/3sPtUTJcbDNHI7v2hv+CePjjwT8FvjF4D+CetW9t8OfjVZDSZfBdxEkcfgm61S/httY1TSrhpFWC1Nhc393JY7GH2mFXt9jTSRyew/Hb9ipf2jfif4NsfE2s2v/Cj/AAPb295D8PbOw8m38QavBLutpdSl3kT2NoscLw2SxrG048yUyiKFEAP/2Q=="},9791:(e,n,t)=>{t.d(n,{Z:()=>i});const i=t.p+"assets/images/Configuringarray1-b563b7a09206ee11573eb77ad400c45c.png"},7313:(e,n,t)=>{t.d(n,{Z:()=>i});const i=t.p+"assets/images/Confirmrebuild-6cad3baf0748331ceb97a74344ace87f.png"},2973:(e,n,t)=>{t.d(n,{Z:()=>i});const i=t.p+"assets/images/Diskfailureindicator-b9a07c9faf62f81c27e878b8f9028ae1.png"},5921:(e,n,t)=>{t.d(n,{Z:()=>i});const i=t.p+"assets/images/Diskfailurenotification-fed01ecb6aed8a37b551176530abc4bd.png"},8841:(e,n,t)=>{t.d(n,{Z:()=>i});const i=t.p+"assets/images/Diskrebuildnotification-430933c6d14fcdd5e280ac3612657786.png"},8243:(e,n,t)=>{t.d(n,{Z:()=>i});const i="data:image/png;base64,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"},9514:(e,n,t)=>{t.d(n,{Z:()=>i});const i=t.p+"assets/images/Invalidormissingkey-dc584cc53dbbe567f6327956e0d2fa48.png"},5597:(e,n,t)=>{t.d(n,{Z:()=>i});const i=t.p+"assets/images/Newconfig-e2b06a7cf5cec628f544d2b1982ca621.png"},3836:(e,n,t)=>{t.d(n,{Z:()=>i});const i=t.p+"assets/images/Timeremaining-b5cabc06bc085ed1e797f7a4c554906d.png"},6501:(e,n,t)=>{t.d(n,{Z:()=>i});const i=t.p+"assets/images/Toomanydevices-aa282a55da5b4cdb1c106c1971e3bc3a.png"},5397:(e,n,t)=>{t.d(n,{Z:()=>i});const i=t.p+"assets/images/Toomanywrong-323c00f4a6565922be138b305fe75893.png"},1151:(e,n,t)=>{t.d(n,{Z:()=>o,a:()=>a});var i=t(7294);const s={},r=i.createContext(s);function a(e){const n=i.useContext(r);return i.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function o(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:a(e.components),i.createElement(r.Provider,{value:n},e.children)}}}]);